<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="(Feature image from: YuanBiju/serial-communication-protocols Searched by Serial communication protocol in DDG image)\nI2C Bus Comm Protocol I2C: Inter-Integrated Circuit S S C D L A V B c u c s ▮ ▮ ᴵ M ² C ꟲ U ᴵ L ² C ꟲ D 2 ᴵ 4 ² C ꟲ 0 2 ᴵ G ² P ꟲ S S e ᴵ n ² s ꟲ o r s Master and Slave\n">
<title>Memo: EE - Comm | I2C and SPI Bus</title>

<link rel='canonical' href='http://blog.zichen.uk/post/writenotes/embed/b-comm-i2c_spi/'>

<link rel="stylesheet" href="/scss/style.min.0e95b70faf4f470dc6ba88da538ece0f8cf22d03bab371e1b345205b81899732.css"><meta property='og:title' content="Memo: EE - Comm | I2C and SPI Bus">
<meta property='og:description' content="(Feature image from: YuanBiju/serial-communication-protocols Searched by Serial communication protocol in DDG image)\nI2C Bus Comm Protocol I2C: Inter-Integrated Circuit S S C D L A V B c u c s ▮ ▮ ᴵ M ² C ꟲ U ᴵ L ² C ꟲ D 2 ᴵ 4 ² C ꟲ 0 2 ᴵ G ² P ꟲ S S e ᴵ n ² s ꟲ o r s Master and Slave\n">
<meta property='og:url' content='http://blog.zichen.uk/post/writenotes/embed/b-comm-i2c_spi/'>
<meta property='og:site_name' content='Zichen Wang'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='EE' /><meta property='article:published_time' content='2024-10-12T21:29:00&#43;00:00'/><meta property='article:modified_time' content='2024-10-12T21:29:00&#43;00:00'/><meta property='og:image' content='https://camo.githubusercontent.com/11db1977635115805436cb0521d6730576947e4949bbc3734dada1cbdfe44a0d/68747470733a2f2f7777772e656c656374726f6e6963736875622e6f72672f77702d636f6e74656e742f75706c6f6164732f323031372f30362f53657269616c2d436f6d6d756e69636174696f6e2e6a7067' />
<meta name="twitter:title" content="Memo: EE - Comm | I2C and SPI Bus">
<meta name="twitter:description" content="(Feature image from: YuanBiju/serial-communication-protocols Searched by Serial communication protocol in DDG image)\nI2C Bus Comm Protocol I2C: Inter-Integrated Circuit S S C D L A V B c u c s ▮ ▮ ᴵ M ² C ꟲ U ᴵ L ² C ꟲ D 2 ᴵ 4 ² C ꟲ 0 2 ᴵ G ² P ꟲ S S e ᴵ n ² s ꟲ o r s Master and Slave\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://camo.githubusercontent.com/11db1977635115805436cb0521d6730576947e4949bbc3734dada1cbdfe44a0d/68747470733a2f2f7777772e656c656374726f6e6963736875622e6f72672f77702d636f6e74656e742f75706c6f6164732f323031372f30362f53657269616c2d436f6d6d756e69636174696f6e2e6a7067' />
    <link rel="shortcut icon" href="/favicon-32x32.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_b598b46054b3fa80.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Zichen Wang</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/zichen34'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com/luckily1640'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/post/writenotes/' >
                
                
                
                <span>WriteNotes</span>
            </a>
        </li>
        
        
        <li >
            <a href='/aboutme/' >
                
                
                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#i2c-bus">I2C Bus</a>
      <ol>
        <li><a href="#comm-protocol">Comm Protocol</a>
          <ol>
            <li><a href="#i2c-inter-integrated-circuit">I2C: Inter-Integrated Circuit</a></li>
            <li><a href="#bus-status">Bus status</a></li>
            <li><a href="#frame-structure">Frame Structure</a></li>
          </ol>
        </li>
        <li><a href="#write-data-frame">Write-Data Frame</a></li>
        <li><a href="#read-data-frame-">Read-Data Frame ❌</a></li>
        <li><a href="#i2c-on-arduino">I2C on Arduino</a></li>
        <li><a href="#simu-i2c">Simu I2C</a></li>
        <li><a href="#haptic-motor-driver">Haptic Motor Driver</a>
          <ol>
            <li><a href="#-connection-arduino-and-drv2605l">➀ Connection Arduino and DRV2605L</a></li>
            <li><a href="#-registers-definition-of-drv2605l">➁ Registers Definition of DRV2605L</a></li>
          </ol>
        </li>
        <li><a href="#i2c-on-renesas">I2C on Renesas</a>
          <ol>
            <li><a href="#-smartconfig-gen-i2c-for-rl78-f23">➀ SmartConfig Gen I2C For RL78-F23</a></li>
          </ol>
        </li>
        <li><a href="#apis-of-iica">APIs of IICA</a>
          <ol>
            <li><a href="#-read-data-to-7-bit-addr">➀ Read Data to 7-bit Addr</a></li>
            <li><a href="#-write-data-to-7-bit-addr">➁ Write Data to 7-bit Addr</a></li>
            <li><a href="#-readwrite-to-8-bit-addr">➂ Read/Write to 8-bit Addr</a></li>
          </ol>
        </li>
        <li><a href="#rl78-f23-controls-haptic">RL78-F23 Controls Haptic</a>
          <ol>
            <li><a href="#-i2c-multiplexer-nca9548a">➁ I2C Multiplexer NCA9548A</a></li>
            <li><a href="#write-read-register-of-nca9548a">Write-Read Register of NCA9548A</a></li>
          </ol>
        </li>
        <li><a href="#rl78-f23-read-drv2605l">RL78-F23 Read DRV2605L</a>
          <ol>
            <li><a href="#remove-stopcondition-from-callback">Remove StopCondition From Callback</a></li>
            <li><a href="#need-stopcondition-after-write-regaddr">Need StopCondition After Write RegAddr</a></li>
            <li><a href="#write-registers-of-drv2605l">Write Registers of DRV2605L</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#spi">SPI</a>
      <ol>
        <li><a href="#comm-protocol-1">Comm Protocol</a>
          <ol>
            <li><a href="#example">Example</a></li>
            <li><a href="#modes">Modes</a></li>
          </ol>
        </li>
        <li><a href="#spi-on-arduino">SPI on Arduino</a></li>
        <li><a href="#spi-on-raspi3b">SPI on Raspi3B</a></li>
      </ol>
    </li>
    <li><a href="#uart">UART</a></li>
    <li><a href="#serial">Serial</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/post/writenotes/embed/b-comm-i2c_spi/">
                
                    <img src="https://camo.githubusercontent.com/11db1977635115805436cb0521d6730576947e4949bbc3734dada1cbdfe44a0d/68747470733a2f2f7777772e656c656374726f6e6963736875622e6f72672f77702d636f6e74656e742f75706c6f6164732f323031372f30362f53657269616c2d436f6d6d756e69636174696f6e2e6a7067" loading="lazy" alt="Featured image of post Memo: EE - Comm | I2C and SPI Bus" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/memo/" style="background-color: #6e57d2; color: #fff;">
                Memo
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/writenotes/embed/b-comm-i2c_spi/">Memo: EE - Comm | I2C and SPI Bus</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Oct 12, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    23 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
<section class="toc toc--inline">
    <h2 class="">Table of contents</h2>
    <div class="" >
        <nav id="TableOfContents">
  <ol>
    <li><a href="#i2c-bus">I2C Bus</a>
      <ol>
        <li><a href="#comm-protocol">Comm Protocol</a>
          <ol>
            <li><a href="#i2c-inter-integrated-circuit">I2C: Inter-Integrated Circuit</a></li>
            <li><a href="#bus-status">Bus status</a></li>
            <li><a href="#frame-structure">Frame Structure</a></li>
          </ol>
        </li>
        <li><a href="#write-data-frame">Write-Data Frame</a></li>
        <li><a href="#read-data-frame-">Read-Data Frame ❌</a></li>
        <li><a href="#i2c-on-arduino">I2C on Arduino</a></li>
        <li><a href="#simu-i2c">Simu I2C</a></li>
        <li><a href="#haptic-motor-driver">Haptic Motor Driver</a>
          <ol>
            <li><a href="#-connection-arduino-and-drv2605l">➀ Connection Arduino and DRV2605L</a></li>
            <li><a href="#-registers-definition-of-drv2605l">➁ Registers Definition of DRV2605L</a></li>
          </ol>
        </li>
        <li><a href="#i2c-on-renesas">I2C on Renesas</a>
          <ol>
            <li><a href="#-smartconfig-gen-i2c-for-rl78-f23">➀ SmartConfig Gen I2C For RL78-F23</a></li>
          </ol>
        </li>
        <li><a href="#apis-of-iica">APIs of IICA</a>
          <ol>
            <li><a href="#-read-data-to-7-bit-addr">➀ Read Data to 7-bit Addr</a></li>
            <li><a href="#-write-data-to-7-bit-addr">➁ Write Data to 7-bit Addr</a></li>
            <li><a href="#-readwrite-to-8-bit-addr">➂ Read/Write to 8-bit Addr</a></li>
          </ol>
        </li>
        <li><a href="#rl78-f23-controls-haptic">RL78-F23 Controls Haptic</a>
          <ol>
            <li><a href="#-i2c-multiplexer-nca9548a">➁ I2C Multiplexer NCA9548A</a></li>
            <li><a href="#write-read-register-of-nca9548a">Write-Read Register of NCA9548A</a></li>
          </ol>
        </li>
        <li><a href="#rl78-f23-read-drv2605l">RL78-F23 Read DRV2605L</a>
          <ol>
            <li><a href="#remove-stopcondition-from-callback">Remove StopCondition From Callback</a></li>
            <li><a href="#need-stopcondition-after-write-regaddr">Need StopCondition After Write RegAddr</a></li>
            <li><a href="#write-registers-of-drv2605l">Write Registers of DRV2605L</a></li>
          </ol>
        </li>
      </ol>
    </li>
    <li><a href="#spi">SPI</a>
      <ol>
        <li><a href="#comm-protocol-1">Comm Protocol</a>
          <ol>
            <li><a href="#example">Example</a></li>
            <li><a href="#modes">Modes</a></li>
          </ol>
        </li>
        <li><a href="#spi-on-arduino">SPI on Arduino</a></li>
        <li><a href="#spi-on-raspi3b">SPI on Raspi3B</a></li>
      </ol>
    </li>
    <li><a href="#uart">UART</a></li>
    <li><a href="#serial">Serial</a></li>
  </ol>
</nav>

    </div>
</section>



    
    
    <p>(Feature image from: <a id="Serial-r0"></a>
<a class="link" href="https://github.com/YuanBiju/serial-communication-protocols"  target="_blank" rel="noopener"
    >YuanBiju/serial-communication-protocols</a>
<small>Searched by <code>Serial communication protocol</code> in <a class="link" href="https://duckduckgo.com/?q=Serial&#43;communication&#43;protocol&amp;iax=images&amp;ia=images"  target="_blank" rel="noopener"
    >DDG image</a></small>)</p>
<hr>
<h2 id="i2c-bus">I2C Bus
</h2><h3 id="comm-protocol">Comm Protocol
</h3><h4 id="i2c-inter-integrated-circuit">I2C: Inter-Integrated Circuit
</h4><!-- (2024-10-12) -->



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 576 233"
      >
      <g transform='translate(8,16)'>
<path d='M 64,0 L 72,0' fill='none' stroke='currentColor'></path>
<path d='M 72,0 L 88,0' fill='none' stroke='currentColor'></path>
<path d='M 32,64 L 72,64' fill='none' stroke='currentColor'></path>
<path d='M 72,64 L 88,64' fill='none' stroke='currentColor'></path>
<path d='M 88,64 L 144,64' fill='none' stroke='currentColor'></path>
<path d='M 144,64 L 240,64' fill='none' stroke='currentColor'></path>
<path d='M 240,64 L 336,64' fill='none' stroke='currentColor'></path>
<path d='M 336,64 L 432,64' fill='none' stroke='currentColor'></path>
<path d='M 432,64 L 528,64' fill='none' stroke='currentColor'></path>
<path d='M 32,96 L 88,96' fill='none' stroke='currentColor'></path>
<path d='M 88,96 L 128,96' fill='none' stroke='currentColor'></path>
<path d='M 128,96 L 144,96' fill='none' stroke='currentColor'></path>
<path d='M 144,96 L 224,96' fill='none' stroke='currentColor'></path>
<path d='M 224,96 L 240,96' fill='none' stroke='currentColor'></path>
<path d='M 240,96 L 320,96' fill='none' stroke='currentColor'></path>
<path d='M 320,96 L 336,96' fill='none' stroke='currentColor'></path>
<path d='M 336,96 L 416,96' fill='none' stroke='currentColor'></path>
<path d='M 416,96 L 432,96' fill='none' stroke='currentColor'></path>
<path d='M 432,96 L 512,96' fill='none' stroke='currentColor'></path>
<path d='M 96,128 L 112,128' fill='none' stroke='currentColor'></path>
<path d='M 112,128 L 128,128' fill='none' stroke='currentColor'></path>
<path d='M 128,128 L 144,128' fill='none' stroke='currentColor'></path>
<path d='M 144,128 L 160,128' fill='none' stroke='currentColor'></path>
<path d='M 160,128 L 176,128' fill='none' stroke='currentColor'></path>
<path d='M 192,128 L 208,128' fill='none' stroke='currentColor'></path>
<path d='M 208,128 L 224,128' fill='none' stroke='currentColor'></path>
<path d='M 224,128 L 240,128' fill='none' stroke='currentColor'></path>
<path d='M 240,128 L 256,128' fill='none' stroke='currentColor'></path>
<path d='M 256,128 L 272,128' fill='none' stroke='currentColor'></path>
<path d='M 288,128 L 304,128' fill='none' stroke='currentColor'></path>
<path d='M 304,128 L 320,128' fill='none' stroke='currentColor'></path>
<path d='M 320,128 L 336,128' fill='none' stroke='currentColor'></path>
<path d='M 336,128 L 352,128' fill='none' stroke='currentColor'></path>
<path d='M 352,128 L 368,128' fill='none' stroke='currentColor'></path>
<path d='M 384,128 L 400,128' fill='none' stroke='currentColor'></path>
<path d='M 400,128 L 416,128' fill='none' stroke='currentColor'></path>
<path d='M 416,128 L 432,128' fill='none' stroke='currentColor'></path>
<path d='M 432,128 L 448,128' fill='none' stroke='currentColor'></path>
<path d='M 448,128 L 464,128' fill='none' stroke='currentColor'></path>
<path d='M 480,128 L 496,128' fill='none' stroke='currentColor'></path>
<path d='M 496,128 L 512,128' fill='none' stroke='currentColor'></path>
<path d='M 512,128 L 528,128' fill='none' stroke='currentColor'></path>
<path d='M 528,128 L 544,128' fill='none' stroke='currentColor'></path>
<path d='M 544,128 L 560,128' fill='none' stroke='currentColor'></path>
<path d='M 112,160 L 160,160' fill='none' stroke='currentColor'></path>
<path d='M 208,160 L 256,160' fill='none' stroke='currentColor'></path>
<path d='M 304,160 L 352,160' fill='none' stroke='currentColor'></path>
<path d='M 400,160 L 448,160' fill='none' stroke='currentColor'></path>
<path d='M 496,160 L 544,160' fill='none' stroke='currentColor'></path>
<path d='M 96,208 L 176,208' fill='none' stroke='currentColor'></path>
<path d='M 192,208 L 272,208' fill='none' stroke='currentColor'></path>
<path d='M 288,208 L 368,208' fill='none' stroke='currentColor'></path>
<path d='M 384,208 L 464,208' fill='none' stroke='currentColor'></path>
<path d='M 480,208 L 560,208' fill='none' stroke='currentColor'></path>
<path d='M 72,0 L 72,16' fill='none' stroke='currentColor'></path>
<path d='M 72,48 L 72,64' fill='none' stroke='currentColor'></path>
<path d='M 88,0 L 88,16' fill='none' stroke='currentColor'></path>
<path d='M 88,48 L 88,64' fill='none' stroke='currentColor'></path>
<path d='M 88,64 L 88,96' fill='none' stroke='currentColor'></path>
<path d='M 96,128 L 96,208' fill='none' stroke='currentColor'></path>
<path d='M 112,128 L 112,160' fill='none' stroke='currentColor'></path>
<path d='M 128,96 L 128,128' fill='none' stroke='currentColor'></path>
<path d='M 144,64 L 144,96' fill='none' stroke='currentColor'></path>
<path d='M 144,96 L 144,128' fill='none' stroke='currentColor'></path>
<path d='M 160,128 L 160,160' fill='none' stroke='currentColor'></path>
<path d='M 176,128 L 176,208' fill='none' stroke='currentColor'></path>
<path d='M 192,128 L 192,208' fill='none' stroke='currentColor'></path>
<path d='M 208,128 L 208,160' fill='none' stroke='currentColor'></path>
<path d='M 224,96 L 224,128' fill='none' stroke='currentColor'></path>
<path d='M 240,64 L 240,96' fill='none' stroke='currentColor'></path>
<path d='M 240,96 L 240,128' fill='none' stroke='currentColor'></path>
<path d='M 256,128 L 256,160' fill='none' stroke='currentColor'></path>
<path d='M 272,128 L 272,208' fill='none' stroke='currentColor'></path>
<path d='M 288,128 L 288,208' fill='none' stroke='currentColor'></path>
<path d='M 304,128 L 304,160' fill='none' stroke='currentColor'></path>
<path d='M 320,96 L 320,128' fill='none' stroke='currentColor'></path>
<path d='M 336,64 L 336,96' fill='none' stroke='currentColor'></path>
<path d='M 336,96 L 336,128' fill='none' stroke='currentColor'></path>
<path d='M 352,128 L 352,160' fill='none' stroke='currentColor'></path>
<path d='M 368,128 L 368,208' fill='none' stroke='currentColor'></path>
<path d='M 384,128 L 384,208' fill='none' stroke='currentColor'></path>
<path d='M 400,128 L 400,160' fill='none' stroke='currentColor'></path>
<path d='M 416,96 L 416,128' fill='none' stroke='currentColor'></path>
<path d='M 432,64 L 432,96' fill='none' stroke='currentColor'></path>
<path d='M 432,96 L 432,128' fill='none' stroke='currentColor'></path>
<path d='M 448,128 L 448,160' fill='none' stroke='currentColor'></path>
<path d='M 464,128 L 464,208' fill='none' stroke='currentColor'></path>
<path d='M 480,128 L 480,208' fill='none' stroke='currentColor'></path>
<path d='M 496,128 L 496,160' fill='none' stroke='currentColor'></path>
<path d='M 512,96 L 512,128' fill='none' stroke='currentColor'></path>
<path d='M 528,64 L 528,128' fill='none' stroke='currentColor'></path>
<path d='M 544,128 L 544,160' fill='none' stroke='currentColor'></path>
<path d='M 560,128 L 560,208' fill='none' stroke='currentColor'></path>
<circle cx='128' cy='96' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='144' cy='64' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='224' cy='96' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='240' cy='64' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='320' cy='96' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='336' cy='64' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='416' cy='96' r='6' stroke='currentColor' fill='currentColor'></circle>
<circle cx='432' cy='64' r='6' stroke='currentColor' fill='currentColor'></circle>
<text text-anchor='middle' x='0' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='0' y='100' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='68' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='16' y='68' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='16' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>V</text>
<text text-anchor='middle' x='32' y='84' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='40' y='84' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='48' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>▮</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>▮</text>
<text text-anchor='middle' x='128' y='148' fill='currentColor' style='font-size:1em'>ᴵ</text>
<text text-anchor='middle' x='128' y='196' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='136' y='148' fill='currentColor' style='font-size:1em'>²</text>
<text text-anchor='middle' x='136' y='196' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='144' y='148' fill='currentColor' style='font-size:1em'>ꟲ</text>
<text text-anchor='middle' x='144' y='196' fill='currentColor' style='font-size:1em'>U</text>
<text text-anchor='middle' x='224' y='148' fill='currentColor' style='font-size:1em'>ᴵ</text>
<text text-anchor='middle' x='224' y='196' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='232' y='148' fill='currentColor' style='font-size:1em'>²</text>
<text text-anchor='middle' x='232' y='196' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='240' y='148' fill='currentColor' style='font-size:1em'>ꟲ</text>
<text text-anchor='middle' x='240' y='196' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='312' y='196' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='320' y='148' fill='currentColor' style='font-size:1em'>ᴵ</text>
<text text-anchor='middle' x='320' y='196' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='328' y='148' fill='currentColor' style='font-size:1em'>²</text>
<text text-anchor='middle' x='328' y='196' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='336' y='148' fill='currentColor' style='font-size:1em'>ꟲ</text>
<text text-anchor='middle' x='336' y='196' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='344' y='196' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='416' y='148' fill='currentColor' style='font-size:1em'>ᴵ</text>
<text text-anchor='middle' x='416' y='196' fill='currentColor' style='font-size:1em'>G</text>
<text text-anchor='middle' x='424' y='148' fill='currentColor' style='font-size:1em'>²</text>
<text text-anchor='middle' x='424' y='196' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='432' y='148' fill='currentColor' style='font-size:1em'>ꟲ</text>
<text text-anchor='middle' x='432' y='196' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='496' y='196' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='504' y='196' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='512' y='148' fill='currentColor' style='font-size:1em'>ᴵ</text>
<text text-anchor='middle' x='512' y='196' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='520' y='148' fill='currentColor' style='font-size:1em'>²</text>
<text text-anchor='middle' x='520' y='196' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='528' y='148' fill='currentColor' style='font-size:1em'>ꟲ</text>
<text text-anchor='middle' x='528' y='196' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='536' y='196' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='544' y='196' fill='currentColor' style='font-size:1em'>s</text>
</g>

    </svg>
  
</div>
<ul>
<li>
<p>Master and Slave</p>
<ul>
<li>
<p>Allow <strong>multiple master</strong>, however, only 1 master at a time</p>
</li>
<li>
<p>The first device making a <strong>falling edge</strong> to the bus while the SCL is in high stage (a start signal)
will occupy the bus exclusively,
until this device making a <strong>rising edge</strong> when the SCL is high.</p>
</li>
</ul>
</li>
<li>
<p>Two wires: <strong>SCL</strong> (serial clock) and <strong>SDA</strong> (serial data)</p>
<ul>
<li>
<p>The SCL signal <strong>determines</strong> when to sample the SDA.</p>
<!-- (2024-10-13) -->
<ul>
<li>Therefore, the slave can stall the master by holding the SCL line <strong>low</strong> longer. (<a class="link" href="#I2C-GfG" >r4-GfG</a>)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Default (recessive, idle) state is a high voltage (<code>1</code>) because of the pull-up resistors.</p>
</li>
</ul>
<p>::: aside</p>
<ul>
<li><strong>References</strong>: {{{
<!-- (2024-10-12) -->
<ol start="4">
<li><a id="I2C-GfG"></a>
<a class="link" href="https://www.geeksforgeeks.org/i2c-communication-protocol/"  target="_blank" rel="noopener"
    >I2C Communication Protocol - GeeksforGeeks</a>
<br><small>
Searched by <code>i2c protocol and UML sequence diagram</code> in
<a class="link" href="https://duckduckgo.com/?q=i2c&#43;protocol&#43;and&#43;UML&#43;sequence&#43;diagram&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small>
}}}
:::</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li>
<p>Serial transmission: the signal on the SDA is transferred <strong>byte-by-byte</strong></p>
<ul>
<li>
<p>There is a <strong>Receiver response</strong> after every byte (8 bits).</p>
</li>
<li>
<p>Following the Start condition, the first byte is a 7-bit <strong>device address</strong> plus a Read/Write bit, followed by a ACK bit from the receiver.
The second byte is an address of a memory in the device, followed by a ACK bit from the receiver.
The third byte is a 1-byte data to be transferred, followed by a ACK bit from the receiver.</p>
</li>
<li>
<p><strong>Higher bits</strong> are transmitted first</p>
</li>
</ul>
</li>
<li>
<p><strong>Single</strong> data wire (Half-duplex)：Transmit and receive share a common wire.</p>
<ul>
<li>
<p>Bidirectional, i.e., the data flow direction can flip between master and slave.</p>
</li>
<li>
<p>Master and slave <strong>cannot</strong> talk at the same time (<a class="link" href="#I2C-r2" >r2-半双工</a>).</p>
</li>
<li>
<p>Communication means just 2 operations: <strong>Write or Read</strong>.
The <strong>master</strong> sends out an instruction of writing data to a device, or requesting data from a device.</p>
</li>
</ul>
<p>::: aside</p>
<details><summary>References</summary> {{{
2. <a id="I2C-r2"></a>
   [单工半双工全双工区别，通俗易懂 - bilibili](https://www.bilibili.com/video/BV1pY41137dN/)
   <br><small>
   Searched by `半双工` in [DDG](https://duckduckgo.com/?q=%E5%8D%8A%E5%8F%8C%E5%B7%A5&ia=web)
   </small>
}}}
</details>
:::
</li>
</ul>
<hr>
<h4 id="bus-status">Bus status
</h4><ol>
<li>
<p>4 Phases</p>
<ol>
<li>
<p>Transferring <strong>starts</strong> when the bus appears that:
the SDA <strong>falls down</strong> when the SCL is a high voltage.</p>
</li>
<li>
<p>Transferring <strong>stops</strong> when the bus shows that:
the SDA <strong>raises up</strong> when the SCL is a high voltage.</p>
</li>
<li>
<p>Data transmission: SDA makes change when SDL is low, and keeps consistant during SDL is high (<a class="link" href="#I2C-wav-r5" >r5-CSDN</a>).</p>
<img src="I2C_Timing-CSDN.png" width="100%">
</li>
<li>
<p><strong>Receiver Response</strong>: <strong>Every 8 bits (1 byte)</strong>, the SDA should be a low voltage, representing <code>ACK</code>,
whereas a high voltage (recessive) indicates <code>NACK</code>: the byte just sent was not received successfully.</p>
</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
5. <a id="I2C-wav-r5"></a>
   [Proteus仿真之IIC通信(AT24C02) - CSDN博客](https://blog.csdn.net/qq_43213240/article/details/131170778)
   <br><small>
   Found in [I2C-simu-s1](#I2C-simu-s1) (2024-10-28)
   </small>
}}}
</details>
:::
</li>
</ol>
<hr>
<h4 id="frame-structure">Frame Structure
</h4><ol>
<li>
<p><strong>Start</strong> condition: SDA drops turnning to <strong>dominant level</strong> (0), triggering the SCL to oscillate.</p>
</li>
<li>
<p>Device Address: 7 bits (allowing max <strong>128</strong> devices mounted on the I2C bus)</p>
<ul>
<li>
<p>The voltage on SDA needs to keep consistant during the <strong>entire</strong> high phase of the SCL.</p>
</li>
<li>
<p>The frame will be <strong>broadcasted</strong> and captured by all slaves, and only the matched device will response.</p>
</li>
</ul>
</li>
<li>
<p>Read / Write: 1 bit, <code>0</code> for Writing and <code>1</code> for Reading.</p>
<ul>
<li>
<p>When the master is <strong>sending</strong> data to the slave, SDA is <code>0</code> (dominant) at this bit;</p>
</li>
<li>
<p>Whereas <code>1</code> indicates the master is <strong>receiving</strong> data from the slave.</p>
</li>
</ul>
</li>
</ol>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 544 265"
      >
      <g transform='translate(8,16)'>
<path d='M 112,32 L 120,32' fill='none' stroke='currentColor'></path>
<path d='M 136,32 L 152,32' fill='none' stroke='currentColor'></path>
<path d='M 168,32 L 184,32' fill='none' stroke='currentColor'></path>
<path d='M 200,32 L 216,32' fill='none' stroke='currentColor'></path>
<path d='M 232,32 L 248,32' fill='none' stroke='currentColor'></path>
<path d='M 264,32 L 280,32' fill='none' stroke='currentColor'></path>
<path d='M 296,32 L 312,32' fill='none' stroke='currentColor'></path>
<path d='M 328,32 L 344,32' fill='none' stroke='currentColor'></path>
<path d='M 360,32 L 376,32' fill='none' stroke='currentColor'></path>
<path d='M 392,32 L 408,32' fill='none' stroke='currentColor'></path>
<path d='M 424,32 L 440,32' fill='none' stroke='currentColor'></path>
<path d='M 456,32 L 488,32' fill='none' stroke='currentColor'></path>
<path d='M 120,80 L 136,80' fill='none' stroke='currentColor'></path>
<path d='M 152,80 L 168,80' fill='none' stroke='currentColor'></path>
<path d='M 184,80 L 200,80' fill='none' stroke='currentColor'></path>
<path d='M 216,80 L 232,80' fill='none' stroke='currentColor'></path>
<path d='M 248,80 L 264,80' fill='none' stroke='currentColor'></path>
<path d='M 280,80 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 312,80 L 328,80' fill='none' stroke='currentColor'></path>
<path d='M 344,80 L 360,80' fill='none' stroke='currentColor'></path>
<path d='M 376,80 L 392,80' fill='none' stroke='currentColor'></path>
<path d='M 408,80 L 424,80' fill='none' stroke='currentColor'></path>
<path d='M 440,80 L 456,80' fill='none' stroke='currentColor'></path>
<path d='M 456,80 L 504,80' fill='none' stroke='currentColor'></path>
<path d='M 88,128 L 96,128' fill='none' stroke='currentColor'></path>
<path d='M 128,128 L 160,128' fill='none' stroke='currentColor'></path>
<path d='M 192,128 L 224,128' fill='none' stroke='currentColor'></path>
<path d='M 288,128 L 320,128' fill='none' stroke='currentColor'></path>
<path d='M 352,128 L 384,128' fill='none' stroke='currentColor'></path>
<path d='M 432,128 L 488,128' fill='none' stroke='currentColor'></path>
<path d='M 96,176 L 128,176' fill='none' stroke='currentColor'></path>
<path d='M 160,176 L 192,176' fill='none' stroke='currentColor'></path>
<path d='M 224,176 L 288,176' fill='none' stroke='currentColor'></path>
<path d='M 320,176 L 352,176' fill='none' stroke='currentColor'></path>
<path d='M 384,176 L 432,176' fill='none' stroke='currentColor'></path>
<path d='M 432,176 L 504,176' fill='none' stroke='currentColor'></path>
<path d='M 96,128 L 96,176' fill='none' stroke='currentColor'></path>
<path d='M 120,32 L 120,80' fill='none' stroke='currentColor'></path>
<path d='M 128,128 L 128,176' fill='none' stroke='currentColor'></path>
<path d='M 136,32 L 136,80' fill='none' stroke='currentColor'></path>
<path d='M 152,32 L 152,80' fill='none' stroke='currentColor'></path>
<path d='M 160,128 L 160,176' fill='none' stroke='currentColor'></path>
<path d='M 168,32 L 168,80' fill='none' stroke='currentColor'></path>
<path d='M 184,32 L 184,80' fill='none' stroke='currentColor'></path>
<path d='M 192,128 L 192,176' fill='none' stroke='currentColor'></path>
<path d='M 200,32 L 200,80' fill='none' stroke='currentColor'></path>
<path d='M 216,32 L 216,80' fill='none' stroke='currentColor'></path>
<path d='M 224,128 L 224,176' fill='none' stroke='currentColor'></path>
<path d='M 232,32 L 232,80' fill='none' stroke='currentColor'></path>
<path d='M 248,32 L 248,80' fill='none' stroke='currentColor'></path>
<path d='M 264,32 L 264,80' fill='none' stroke='currentColor'></path>
<path d='M 280,32 L 280,80' fill='none' stroke='currentColor'></path>
<path d='M 288,128 L 288,176' fill='none' stroke='currentColor'></path>
<path d='M 296,32 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 312,32 L 312,80' fill='none' stroke='currentColor'></path>
<path d='M 320,128 L 320,176' fill='none' stroke='currentColor'></path>
<path d='M 328,32 L 328,80' fill='none' stroke='currentColor'></path>
<path d='M 344,32 L 344,80' fill='none' stroke='currentColor'></path>
<path d='M 352,128 L 352,176' fill='none' stroke='currentColor'></path>
<path d='M 360,32 L 360,80' fill='none' stroke='currentColor'></path>
<path d='M 376,32 L 376,80' fill='none' stroke='currentColor'></path>
<path d='M 384,128 L 384,176' fill='none' stroke='currentColor'></path>
<path d='M 392,32 L 392,80' fill='none' stroke='currentColor'></path>
<path d='M 392,192 L 392,240' fill='none' stroke='currentColor'></path>
<path d='M 408,32 L 408,80' fill='none' stroke='currentColor'></path>
<path d='M 408,192 L 408,240' fill='none' stroke='currentColor'></path>
<path d='M 424,32 L 424,80' fill='none' stroke='currentColor'></path>
<path d='M 424,192 L 424,240' fill='none' stroke='currentColor'></path>
<path d='M 432,128 L 432,176' fill='none' stroke='currentColor'></path>
<path d='M 440,32 L 440,80' fill='none' stroke='currentColor'></path>
<path d='M 440,192 L 440,240' fill='none' stroke='currentColor'></path>
<path d='M 456,32 L 456,80' fill='none' stroke='currentColor'></path>
<path d='M 392,184 L 392,192' fill='none' stroke='currentColor'></path>
<path d='M 408,184 L 408,192' fill='none' stroke='currentColor'></path>
<path d='M 424,184 L 424,192' fill='none' stroke='currentColor'></path>
<path d='M 440,184 L 440,192' fill='none' stroke='currentColor'></path>
<polygon points='512.000000,80.000000 500.000000,74.400002 500.000000,85.599998' fill='currentColor' transform='rotate(0.000000, 504.000000, 80.000000)'></polygon>
<polygon points='512.000000,176.000000 500.000000,170.399994 500.000000,181.600006' fill='currentColor' transform='rotate(0.000000, 504.000000, 176.000000)'></polygon>
<circle cx='432' cy='224' r='6' stroke='currentColor' fill='#fff'></circle>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='0' y='132' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='8' y='132' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='16' y='132' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>▲</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='52' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='68' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='84' fill='currentColor' style='font-size:1em'>*</text>
<text text-anchor='middle' x='32' y='116' fill='currentColor' style='font-size:1em'>▲</text>
<text text-anchor='middle' x='32' y='132' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='148' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='164' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='32' y='180' fill='currentColor' style='font-size:1em'>*</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='40' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='40' y='132' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='40' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='48' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='48' y='132' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='48' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='48' y='212' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='56' y='132' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='56' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='56' y='212' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='64' y='132' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='64' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='64' y='212' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='72' y='132' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='72' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='72' y='212' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='80' y='52' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='84' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='100' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='116' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='132' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='148' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='164' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='180' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='80' y='196' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='212' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='80' y='228' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='88' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='88' y='212' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='88' y='228' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='96' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='96' y='212' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='96' y='228' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='104' y='84' fill='currentColor' style='font-size:1em'>┄</text>
<text text-anchor='middle' x='104' y='212' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='112' y='52' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='68' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='100' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='116' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='132' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='148' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='164' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='196' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='212' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='112' y='228' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='136' y='100' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='136' y='116' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>7</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='152' y='100' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='152' y='116' fill='currentColor' style='font-size:1em'>┊</text>
<text text-anchor='middle' x='168' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='168' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='176' y='4' fill='currentColor' style='font-size:1em'>6</text>
<text text-anchor='middle' x='176' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='184' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='184' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='200' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='200' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='216' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='216' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='232' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='232' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='240' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='248' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='248' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='264' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='264' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='272' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='280' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='280' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='296' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='296' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='312' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='312' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='328' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='328' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='336' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='344' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='344' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='360' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='360' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='368' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='376' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='376' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='392' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='392' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='400' y='4' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='400' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='400' y='212' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='400' y='228' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='400' y='244' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>k</text>
<text text-anchor='middle' x='408' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='408' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='424' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='424' y='116' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='432' y='4' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='432' y='196' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='432' y='212' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='432' y='244' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='440' y='100' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='440' y='116' fill='currentColor' style='font-size:1em'>:</text>
</g>

    </svg>
  
</div>
<ul>
<li>
<p>Transferring one byte needs <strong>9 bits</strong>. In contrast, the data field of a LIN frame is 10 bits.</p>
</li>
<li>
<p>I noticed that the <strong>voltage change</strong> representing a 1-byte data only occurs when the SCL is <strong>low</strong>.</p>
<p>Is that the reason for designing the start and stop conditions as the voltage changes occur when SCL is <strong>high</strong>?</p>
<p>In other words, the occurence of the &lsquo;voltage change&rsquo; on SDA differentiate the two fields: Start/Stop bits and data/ACK field.</p>
</li>
</ul>
<hr>
<ul>
<li>
<p>There is NO repeated Start/Stop bits <strong>between bytes</strong> transferring, i.e., the next byte will be directly
transferred after the <code>ACK</code> bit, as shown in the following wave shape (<a class="link" href="#I2C-r3" >r3-EEWorld</a>):</p>
<img src="./I2C_Timing_Diagram-eeworld.png">
<!-- (2024-10-28) -->
<ul>
<li>
<p>There is an <strong>interrupt</strong> after <code>ACK</code> bit <a class="link" href="#I2C-wav-r6" >r6-SE</a>:</p>
<img src="https://i.sstatic.net/iVH2SGNj.png">
<ul>
<li>The image was also referenced by <a class="link" href="I2C-wav-r5" >r5-CSDN</a></li>
</ul>
</li>
</ul>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. <a id="I2C-r1"></a>
   [树莓派开发I2C介绍 - 石然老师](https://www.bilibili.com/video/BV11F411g7cN/)
   <br><small>
   Searched by `树莓派 i2c 通信` in 
   [Bilibili](https://search.bilibili.com/all?vt=48473987&keyword=%E6%A0%91%E8%8E%93%E6%B4%BE%20i2c%20%E9%80%9A%E4%BF%A1&from_source=webtop_search&spm_id_from=333.1007&search_source=5)
   </small>
3. <a id="I2C-r3"></a>
   [示波器和I2C时序波形图的关系分析-电子工程世界](https://news.eeworld.com.cn/Test_and_measurement/ic486741.html)
   <br><small>
   Searched by `I2C 示波器 波形 电子发烧友` in 
   [DDG Images](https://duckduckgo.com/?q=I2C+%E7%A4%BA%E6%B3%A2%E5%99%A8+%E6%B3%A2%E5%BD%A2+%E7%94%B5%E5%AD%90%E5%8F%91%E7%83%A7%E5%8F%8B&iax=images&ia=images)
   Referenced by [r1-Bili](#I2C-r1)
   </small>
6. <a id="I2C-wav-r6"></a>
   [What determines I2C interrupt service time after address byte ACK? - SE](https://electronics.stackexchange.com/q/719068)
   <br><small>
   Found by search [image](#I2C-wav-r5) in Google</small>
}}}
</details>
:::
</li>
</ul>
<hr>
<h3 id="write-data-frame">Write-Data Frame
</h3><p><strong>References</strong>:</p>
<ol>
<li><a class="link" href="https://www.bilibili.com/video/BV1dg4y1H773/"  target="_blank" rel="noopener"
    >4分钟看懂！I2C通讯协议 最简单的总线通讯！ - 爱上半导体</a>
<small>
<ul>
<li>Searched by <code>I2C</code> in <a class="link" href="https://search.bilibili.com/all?keyword=I2C&amp;from_source=webtop_search&amp;spm_id_from=333.1228&amp;search_source=5"  target="_blank" rel="noopener"
    >Bilibili</a>
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<ol>
<li>
<p>Example of writing a 1-byte data into an EEPROM chip.</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 496 137"
      >
      <g transform='translate(8,16)'>
<path d='M 24,64 L 40,64' fill='none' stroke='currentColor'></path>
<path d='M 120,64 L 136,64' fill='none' stroke='currentColor'></path>
<path d='M 184,64 L 200,64' fill='none' stroke='currentColor'></path>
<path d='M 280,64 L 296,64' fill='none' stroke='currentColor'></path>
<path d='M 328,64 L 344,64' fill='none' stroke='currentColor'></path>
<path d='M 416,64 L 440,64' fill='none' stroke='currentColor'></path>
<path d='M 0,48 L 0,112' fill='none' stroke='currentColor'></path>
<path d='M 16,48 L 16,112' fill='none' stroke='currentColor'></path>
<path d='M 144,48 L 144,112' fill='none' stroke='currentColor'></path>
<path d='M 160,48 L 160,112' fill='none' stroke='currentColor'></path>
<path d='M 176,48 L 176,112' fill='none' stroke='currentColor'></path>
<path d='M 304,48 L 304,112' fill='none' stroke='currentColor'></path>
<path d='M 320,48 L 320,112' fill='none' stroke='currentColor'></path>
<path d='M 448,48 L 448,112' fill='none' stroke='currentColor'></path>
<path d='M 464,48 L 464,112' fill='none' stroke='currentColor'></path>
<path d='M 480,48 L 480,112' fill='none' stroke='currentColor'></path>
<circle cx='472' cy='80' r='6' stroke='currentColor' fill='#fff'></circle>
<text text-anchor='middle' x='0' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='0' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>└</text>
<text text-anchor='middle' x='8' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='20' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='8' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='8' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='16' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='24' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='116' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='48' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='56' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='64' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='64' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='64' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='64' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='72' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='72' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='80' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='80' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='80' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='80' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='80' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='100' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='96' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='96' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='96' y='116' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='104' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='104' y='116' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='112' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='112' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='112' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='112' y='116' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='120' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='120' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='128' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='128' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='128' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='136' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='136' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='152' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='52' fill='currentColor' style='font-size:1em'>W</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='152' y='84' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='152' y='100' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='152' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='160' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='160' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='168' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='168' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='168' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='168' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='176' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='176' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='184' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='184' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='192' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='192' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='200' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='200' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='116' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='208' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='208' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='216' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='216' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='224' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='224' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='224' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='224' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='224' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='224' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='232' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='68' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='232' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='232' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='232' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='240' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='240' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='240' y='68' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='240' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='240' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='240' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='248' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='248' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='248' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='256' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='256' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='256' y='68' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='256' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='256' y='116' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='264' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='264' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='272' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='272' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='272' y='116' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='280' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='288' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='288' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='288' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='296' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='296' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='312' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='312' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='312' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='312' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='320' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='328' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='328' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='336' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='336' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='344' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='344' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='352' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='352' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='352' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='360' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='360' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='84' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='368' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='368' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='368' y='68' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='368' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='376' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='376' y='84' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='376' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='384' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='384' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='384' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='384' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='384' y='84' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='384' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='392' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='392' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='392' y='100' fill='currentColor' style='font-size:1em'>F</text>
<text text-anchor='middle' x='400' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='400' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='400' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='400' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='408' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='408' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='416' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='416' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='416' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='424' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='424' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='424' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='432' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='432' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='432' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='440' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='440' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='440' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='448' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='448' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='456' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='456' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='456' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='456' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='464' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='464' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='472' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='20' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='472' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='472' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='472' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='480' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='480' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='36' fill='currentColor' style='font-size:1em'>┘</text>
</g>

    </svg>
  
</div>
<ul>
<li>
<p>EEPROM chip: 24C02 has 256 bytes (256 × 8-bit) memory.
<a class="link" href="https://ww1.microchip.com/downloads/en/DeviceDoc/21202J.pdf"  target="_blank" rel="noopener"
    >Datasheet</a></p>
</li>
<li>
<p>The memory address <code>0x01</code> will be written into the register of the EEPROM chip (? Not sure),
and the data <code>0x0F</code> will be stored in the memory.</p>
<img src="爱上半导体-4分钟看懂！I2C通讯协议_最简单的总线通讯！_00-03-35.950254.png">
</li>
</ul>
</li>
</ol>
<hr>
<h3 id="read-data-frame-">Read-Data Frame ❌
</h3><ul>
<li>A read data frame consists of one write operation followed by one read operation.</li>
</ul>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 736 201"
      >
      <g transform='translate(8,16)'>
<path d='M 24,64 L 40,64' fill='none' stroke='currentColor'></path>
<path d='M 120,64 L 136,64' fill='none' stroke='currentColor'></path>
<path d='M 184,64 L 200,64' fill='none' stroke='currentColor'></path>
<path d='M 280,64 L 296,64' fill='none' stroke='currentColor'></path>
<path d='M 344,64 L 360,64' fill='none' stroke='currentColor'></path>
<path d='M 440,64 L 456,64' fill='none' stroke='currentColor'></path>
<path d='M 504,64 L 520,64' fill='none' stroke='currentColor'></path>
<path d='M 592,64 L 616,64' fill='none' stroke='currentColor'></path>
<path d='M 16,144 L 304,144' fill='none' stroke='currentColor'></path>
<path d='M 336,144 L 640,144' fill='none' stroke='currentColor'></path>
<path d='M 0,48 L 0,128' fill='none' stroke='currentColor'></path>
<path d='M 16,48 L 16,112' fill='none' stroke='currentColor'></path>
<path d='M 144,48 L 144,112' fill='none' stroke='currentColor'></path>
<path d='M 160,48 L 160,112' fill='none' stroke='currentColor'></path>
<path d='M 176,48 L 176,112' fill='none' stroke='currentColor'></path>
<path d='M 304,48 L 304,112' fill='none' stroke='currentColor'></path>
<path d='M 320,48 L 320,128' fill='none' stroke='currentColor'></path>
<path d='M 336,48 L 336,112' fill='none' stroke='currentColor'></path>
<path d='M 464,48 L 464,112' fill='none' stroke='currentColor'></path>
<path d='M 480,48 L 480,112' fill='none' stroke='currentColor'></path>
<path d='M 496,48 L 496,112' fill='none' stroke='currentColor'></path>
<path d='M 624,48 L 624,112' fill='none' stroke='currentColor'></path>
<path d='M 640,48 L 640,112' fill='none' stroke='currentColor'></path>
<path d='M 656,48 L 656,128' fill='none' stroke='currentColor'></path>
<path d='M 0,128 A 16,16 0 0,0 16,144' fill='none' stroke='currentColor'></path>
<path d='M 320,128 A 16,16 0 0,1 304,144' fill='none' stroke='currentColor'></path>
<path d='M 320,128 A 16,16 0 0,0 336,144' fill='none' stroke='currentColor'></path>
<path d='M 656,128 A 16,16 0 0,1 640,144' fill='none' stroke='currentColor'></path>
<circle cx='648' cy='80' r='6' stroke='currentColor' fill='#fff'></circle>
<text text-anchor='middle' x='0' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='0' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>└</text>
<text text-anchor='middle' x='8' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='20' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='8' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='8' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='16' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='16' y='164' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='16' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='24' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='164' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='24' y='180' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='32' y='164' fill='currentColor' style='font-size:1em'>U</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='48' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='48' y='180' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='56' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='56' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='56' y='116' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='56' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='56' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='64' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='64' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='64' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='64' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='72' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='72' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='180' fill='currentColor' style='font-size:1em'>E</text>
<text text-anchor='middle' x='80' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='80' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='80' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='80' y='100' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='80' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='80' y='164' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='80' y='180' fill='currentColor' style='font-size:1em'>E</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='88' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='180' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='96' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='96' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='96' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='96' y='180' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='104' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='104' y='164' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='104' y='180' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='112' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='112' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='112' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='112' y='116' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='112' y='164' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='112' y='180' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='120' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='120' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='116' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='120' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='128' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='128' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='128' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='128' y='116' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='128' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='128' y='180' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='136' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='136' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='136' y='180' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='144' y='164' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='144' y='180' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='152' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='52' fill='currentColor' style='font-size:1em'>W</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='152' y='84' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='152' y='100' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='152' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='152' y='180' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='160' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='160' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='160' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='160' y='180' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='168' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='168' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='168' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='168' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='168' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='168' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='176' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='176' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='176' y='164' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='176' y='180' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='184' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='184' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='164' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='184' y='180' fill='currentColor' style='font-size:1em'>.</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='192' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='192' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='192' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='200' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='200' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='164' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='208' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='208' y='164' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='216' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='216' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='216' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='216' y='116' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='224' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='224' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='224' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='224' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='224' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='224' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='224' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='232' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='68' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='232' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='232' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='232' y='164' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='240' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='240' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='240' y='68' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='240' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='240' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='240' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='240' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='248' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='68' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='248' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='248' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='248' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='256' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='256' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='256' y='68' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='256' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='256' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='256' y='164' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='264' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='264' y='164' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='272' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='272' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='272' y='116' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='272' y='164' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='280' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='280' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='288' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='288' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='288' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='288' y='116' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='288' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='296' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='296' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='296' y='164' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='304' y='164' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='312' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='312' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='312' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='312' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='320' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='328' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='20' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='328' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='328' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='328' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='328' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='328' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='336' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='336' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='336' y='164' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='336' y='180' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='344' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='344' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='164' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='344' y='180' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='352' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='352' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='352' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='352' y='164' fill='currentColor' style='font-size:1em'>U</text>
<text text-anchor='middle' x='352' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='360' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='360' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='180' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='368' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='368' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='368' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='376' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='376' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='376' y='100' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='376' y='116' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='376' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='376' y='180' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='384' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='384' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='384' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='384' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='384' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='384' y='100' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='384' y='116' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='384' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='392' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='392' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='392' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='392' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='400' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='400' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='400' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='400' y='68' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='400' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='400' y='100' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='400' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='400' y='164' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='400' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='408' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='408' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='408' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='408' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='408' y='116' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='408' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='408' y='180' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='416' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='416' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='416' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='416' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='416' y='116' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='416' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='424' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='424' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='424' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='424' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='424' y='164' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='432' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='432' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='432' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='432' y='116' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='432' y='164' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='432' y='180' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='440' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='440' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='440' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='440' y='116' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='440' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='440' y='180' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='448' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='448' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='448' y='116' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='448' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='448' y='180' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='456' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='456' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='456' y='180' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='464' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='464' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='464' y='164' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='472' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='472' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='52' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='472' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='472' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='472' y='100' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='472' y='164' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='472' y='180' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='480' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='480' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='480' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='488' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='488' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='488' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='488' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='488' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='488' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='488' y='164' fill='currentColor' style='font-size:1em'>w</text>
<text text-anchor='middle' x='488' y='180' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='496' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='496' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='496' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='496' y='164' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='504' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='504' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='504' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='504' y='164' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='504' y='180' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='512' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='512' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='512' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='512' y='180' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='520' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='520' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='520' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='520' y='164' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='520' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='528' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='528' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='528' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='528' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='528' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='536' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='536' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='536' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='536' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='536' y='100' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='536' y='164' fill='currentColor' style='font-size:1em'>k</text>
<text text-anchor='middle' x='536' y='180' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='544' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='544' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='544' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='544' y='68' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='544' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='544' y='100' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='544' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='544' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='544' y='180' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='552' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='552' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='552' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='552' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='552' y='84' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='552' y='116' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='552' y='180' fill='currentColor' style='font-size:1em'>U</text>
<text text-anchor='middle' x='560' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='560' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='560' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='560' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='560' y='84' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='560' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='560' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='560' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='568' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='568' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='568' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='568' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='568' y='84' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='568' y='100' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='568' y='116' fill='currentColor' style='font-size:1em'>F</text>
<text text-anchor='middle' x='568' y='164' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='568' y='180' fill='currentColor' style='font-size:1em'>w</text>
<text text-anchor='middle' x='576' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='576' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='576' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='576' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='576' y='100' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='576' y='164' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='576' y='180' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='584' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='584' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='584' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='584' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='584' y='100' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='584' y='180' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='592' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='592' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='592' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='592' y='84' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='592' y='100' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='592' y='164' fill='currentColor' style='font-size:1em'>E</text>
<text text-anchor='middle' x='592' y='180' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='600' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='600' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='600' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='600' y='164' fill='currentColor' style='font-size:1em'>E</text>
<text text-anchor='middle' x='608' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='608' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='608' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='608' y='164' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='608' y='180' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='616' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='616' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='616' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='616' y='164' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='616' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='624' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='624' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='624' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='624' y='164' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='624' y='180' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='632' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='632' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='632' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='632' y='68' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='632' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='632' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='632' y='164' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='632' y='180' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='640' y='4' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='640' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='640' y='36' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='640' y='180' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='648' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='648' y='20' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='648' y='36' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='648' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='648' y='68' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='648' y='100' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='648' y='164' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='648' y='180' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='656' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='656' y='20' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='656' y='36' fill='currentColor' style='font-size:1em'>┘</text>
<text text-anchor='middle' x='656' y='164' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='656' y='180' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='664' y='180' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='672' y='164' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='672' y='180' fill='currentColor' style='font-size:1em'>.</text>
<text text-anchor='middle' x='680' y='164' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='688' y='164' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='696' y='164' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='704' y='164' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='712' y='164' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='720' y='164' fill='currentColor' style='font-size:1em'>h</text>
</g>

    </svg>
  
</div>
<ul>
<li>
<p>The address of memory to be read is <code>0x01</code>, which will be put into a register in the EEPROM chip (? Not sure.)</p>
<p>(2024-10-26)</p>
<ul>
<li>The &ldquo;empty&rdquo; write command may aim to <strong>locate</strong> the target memory in the EEPROM. <sup><a class="link" href="#Proteus-I2C-r1" >Simu-I2C-CSDN</a></sup></li>
</ul>
</li>
<li>
<p><del>Question: If the slave is MCU, why the &ldquo;Slave address&rdquo; after the second Start bit is still the address of the EEPROM?</del></p>
</li>
</ul>
<hr>
<h3 id="i2c-on-arduino">I2C on Arduino
</h3><p>::: aside</p>
<ul>
<li><strong>References</strong>: {{{
2. <a id="I2C-Ardu-r2"></a>
<a class="link" href="https://docs.arduino.cc/learn/communication/wire/"  target="_blank" rel="noopener"
    >Inter-Integrated Circuit (I2C) Protocol - Arduino Docs</a>
<br><small>
Searched by <code>I2C on arduino</code> in <a class="link" href="https://duckduckgo.com/?q=I2C&#43;on&#43;arduino&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small>
3. <a id="I2C-Ardu-r3"></a>
<a class="link" href="https://docs.arduino.cc/language-reference/en/functions/communication/Wire/"  target="_blank" rel="noopener"
    >Wire - Arduino Reference</a>
<br><small>
Found in: <a class="link" href="https://docs.arduino.cc/"  target="_blank" rel="noopener"
    >Docs Home</a> -&gt; &lsquo;Rapid Access&rsquo;: <a class="link" href="https://docs.arduino.cc/language-reference/"  target="_blank" rel="noopener"
    >Language Reference</a>
</small>
}}}
:::</li>
</ul>
<p><strong>Notes</strong>:</p>
<ol>
<li>
<p>The <code>&lt;Wire.h&gt;</code> library implemented the underlying I2C protocol and is included in all Arduino board packages.
So one only need to call its API to transfer data with I2C. (<a class="link" href="#I2C-Ardu-r2" >r2-Docs</a>)</p>
</li>
<li>
<p>Initializing <code>Wire</code> and <code>Serial</code> for I2C transmission and printing data to console.</p>
<ul>
<li>
<p>Calling the <strong>derived library</strong> for a specific device, e.g., <code>&lt;Adafruit_MPU6050.h&gt;</code> to communicate is more convinent than calling the lower-lever <code>Wire.h</code> library.</p>
</li>
<li>
<p>&ldquo;Adafruit&rdquo; is the organization that developed the &lsquo;STEMMA QT&rsquo; connector.</p>
</li>
<li>
<p>The device identifier and the number of bytes to be <strong>read</strong> needs to be specified in the instruction forming function: <code>requestFrom(device_id, n_bytes)</code>.</p>
</li>
<li>
<p>To read <strong>one byte</strong> from the bus: <code>Wire.read()</code>.
To check how many bytes left on the bus: <code>Wire.available()</code> (<a class="link" href="#I2C-Ardu-r3" >r3-Docs</a>).</p>
</li>
<li>
<p>To write <strong>bytes</strong> onto the bus: <code>Wire.write()</code></p>
</li>
</ul>
<pre class="pseudocode" data-line-number=true>\begin{algorithm}
\caption{Master Reads 6 Bytes}
\begin{algorithmic}
\REQUIRE{Wire.h}

\FUNCTION{setup}{}
  \STATE{Wire.begin()}
  \STATE{Serial.begin(9600)} \COMMENT{For serial monitor}
\ENDFUNCTION

\FUNCTION{loop}{}
  \STATE{Wire.requestFrom(8, 6)} \COMMENT{request from device 8 for 6 bytes}

  \WHILE{Wire.available()} \COMMENT{read byte one-by-one until the countdown reaches 0}
    \STATE{char c = Wire.read()}
    \STATE{Serial.print(c)}
  \ENDWHILE

  \STATE{delay(500)}
\ENDFUNCTION

\end{algorithmic}
\end{algorithm}
</pre>

<ul>
<li>
<p>The program running on the slave should declaim the identifier for the slave at the begining: <code>Wire.begin(8)</code></p>
</li>
<li>
<p>The responser sends data hardly when it received the <strong>request</strong> instruction by executing <code>onRequest</code> function</p>
</li>
<li>
<p>The slave only <strong>response once</strong>, so the data is only <code>write()</code> <strong>once</strong> in the <code>setup()</code> function.</p>
</li>
<li>
<p>One character is a byte.</p>
</li>
</ul>
<pre class="pseudocode" data-line-number=true>\begin{algorithm}
\caption{Device Responses 6 Bytes}
\begin{algorithmic}

\FUNCTION{setup}{()}
  \STATE{Wire.begin(8)}
\ENDFUNCTION

\FUNCTION{loop}{()}
  \STATE{delay(100)}
\ENDFUNCTION

\FUNCTION{onRequest}{()}
  \STATE{Wire.write("hello ")}
\ENDFUNCTION
\end{algorithmic}
\end{algorithm}
</pre>

</li>
</ol>
<hr>
<h3 id="simu-i2c">Simu I2C
</h3><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2024-10-26) -->
<ol>
<li>Start: I wondered what does the wave of a read frame look like.</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>
<p>The first <strong>bare</strong> write command without writing any data is called &ldquo;伪写入&rdquo; <a class="link" href="#Proteus-I2C-r1" >Simu-I2C-CSDN</a></p>
</li>
<li>
<p>I2C waveform <a class="link" href="#Proteus-simu-r3" >r3-OfficialTut</a></p>
</li>
</ol>
<!-- (2024-12-16) -->
<ol start="3">
<li>Observing I2C waveform using a logic analyzer on Wokwi <sup><a class="link" href="#Simu-I2C-r5" >r5-Docs</a></sup></li>
</ol>
<p>::: aside</p>
<details>
**References**: {{{
<ol>
<li><a id="Proteus-I2C-r1"></a>
<a class="link" href="https://blog.csdn.net/laoxue123456/article/details/119008093"  target="_blank" rel="noopener"
    >基于proteus仿真的单片机IIC（I2C）通信（超详细） - CSDN</a>
<small>
<ul>
<li>Searched by <code>Proteus 仿真 I2C 通信</code> in <a id="I2C-simu-s1"></a>
<a class="link" href="https://duckduckgo.com/?q=Proteus&#43;%E4%BB%BF%E7%9C%9F&#43;I2C&#43;%E9%80%9A%E4%BF%A1&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a class="link" href="https://www.bilibili.com/video/BV1g7411U7Jn/"  target="_blank" rel="noopener"
    >I2C总线协议，STM32单片机在proteus仿真实例代码讲解 - bilibili - sfdsl1</a>
<small>
<ul>
<li>Searched by <code>I2C 电路仿真</code> (2024-10-17) in
<a class="link" href="https://search.bilibili.com/all?vt=10242312&amp;keyword=I2C%20%E7%94%B5%E8%B7%AF%E4%BB%BF%E7%9C%9F&amp;from_source=webtop_search&amp;spm_id_from=333.880&amp;search_source=5"  target="_blank" rel="noopener"
    >bilibili</a>
</small></li>
</ul>
</li>
<li><a id="Proteus-simu-r3"></a>
Interal tutorial page in the &lsquo;Getting Started&rsquo; section of Proteus 8 Demonstration.</li>
<li><a id="Proteus-simu-r4"></a>
<a class="link" href="https://youtu.be/-Fh4p8eXYlY?si=LgcVsXcalt3Sx6MT"  target="_blank" rel="noopener"
    >Proteus Tutorial : Proteus VSM for Arduino - YouTube - Labcenter Electronics Ltd</a>
<small>
<ul>
<li>Searched by <code>Proteus VSM Tutorial</code> in
<a class="link" href="https://duckduckgo.com/?q=Proteus&#43;VSM&#43;Tutorial&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Simu-I2C-r5"></a>
<a class="link" href="https://docs.wokwi.com/zh-CN/guides/logic-analyzer"  target="_blank" rel="noopener"
    >逻辑分析仪使用指南 | Wokwi Docs</a>
<small>
<ul>
<li>Searched by <code>逻辑分析仪 用法</code> in
<a class="link" href="https://duckduckgo.com/?q=%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA&#43;%E7%94%A8%E6%B3%95&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small>
}}}</li>
</ul>
</li>
</ol>
</details>
:::
</li>
</ol>
<hr>
<h3 id="haptic-motor-driver">Haptic Motor Driver
</h3><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2025-10-20T13:36) -->
<ol>
<li>
<p>How to control a haptic motor?</p>
<ul>
<li>
<p>Haptic motor driver: <code>DRV2605LDGST</code><sup><a class="link" href="" >r2-Datasheet</a></sup></p>
</li>
<li>
<p>I2C address of <code>Sparkfun Haptic Motor Driver - DRV2605L</code> (ROB-14538): <code>0x5A</code>
<sup><a class="link" href="" >r3-Intro</a></sup></p>
<figure>
<img src="https://www.sparkfun.com/media/catalog/product/cache/a793f13fd3d678cea13d28206895ba0c/1/4/14538-SparkFun_Haptic_Motor_Driver-DRV2605L-02.jpg" width="45%">
<img src="https://www.sparkfun.com/media/catalog/product/cache/a793f13fd3d678cea13d28206895ba0c/1/4/14538-SparkFun_Haptic_Motor_Driver-DRV2605L-03.jpg" width="45%">
</figure>
</li>
</ul>
</li>
</ol>
<p>::: aside</p>
<details><summary>References:</summary>{{{
2. [Datasheet: DRV2605L 2- to 5.2-V Haptic Driver for LRA and ERM with Effect Library and Smart-Loop Architecture (pdf)](https://www.ti.com/lit/ds/symlink/drv2605l.pdf)
   <br><small>
   Searched by `DRV2605LDGST` at
   [DDG](https://duckduckgo.com/?q=DRV2605LDGST&ia=web)
   </small>
3. [Breakout Introduction:  SparkFun Haptic Motor Driver - DRV2605L - Digi-Key](https://mm.digikey.com/Volume0/opasdata/d220001/medias/docus/778/ROB-14538_Web.pdf)
   <br><small>
   Searched by `Sparkfun Haptic Motor Driver - DRV2605L` at
   [DDG](https://duckduckgo.com/?q=Sparkfun+Haptic+Motor+Driver+-+DRV2605L&ia=web)
   </small>
4. [Haptic Motor Driver Hook-Up Guide - SparkFun Learn](https://learn.sparkfun.com/tutorials/haptic-motor-driver-hook-up-guide/all)
5. [SparkFun Haptic Motor Driver - GitHub](https://github.com/sparkfun/Haptic_Motor_Driver)
}}}
</details>
:::
</li>
</ol>
<hr>
<h4 id="-connection-arduino-and-drv2605l">➀ Connection Arduino and DRV2605L
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2025-10-20T14:21) -->
<ol>
<li>How to connect an Arduino to the SparkFun Haptic Motor Driver (DRV2605L)?</li>
</ol>
<p>::: aside</p>
<ul>
<li>References: {{{
<ol>
<li><a class="link" href="https://chatgpt.com/share/e/68f67d7e-7ce8-8011-83ea-c855ff49e374"  target="_blank" rel="noopener"
    >GPT5 - Arduino SparkFun connection guide</a>
}}}
:::</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>
<p><code>IN</code> is Multi-mode input. I2C is selectable as PWM, analog, or trigger.
If not used, this pin should be connected to GND
<sup><a class="link" href="" >Datasheet Sec 5</a></sup>.</p>
</li>
<li>
<p><code>EN</code> controls the power state
<sup><a class="link" href="" >Datasheet Sec 8.4.1</a></sup>,
logic high.
<sup><a class="link" href="" >Datasheet Sec 9.3.1</a></sup></p>
</li>
<li>
<p>SDA and SCL
<sup><a class="link" href="" >Datasheet Sec 8.5.3</a></sup></p>
</li>
<li>
<p>Connection to application processor
<sup><a class="link" href="" >Datasheet Sec 9.1</a></sup>.</p>
<figure>
<img src="Fritz-Nano_DRV2605L-251021.png" width="100%">
<figcaption></figcaption>
</figure>
</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [GPT5 Pro - Arduino SparkFun connection guide](https://chatgpt.com/c/68f67d1d-c4a0-8331-96db-037b33206b56)
}}}
</details>
:::
</li>
<li>
<p><strong>Actions</strong>:</p>
<ol>
<li>
<p>Pins of the driver board</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Pin</th>
          <th>To</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>GND</td>
          <td>GND</td>
      </tr>
      <tr>
          <td>VCC</td>
          <td>Nano 5V Out</td>
      </tr>
      <tr>
          <td>SDA</td>
          <td>Nano A4 I2C Data</td>
      </tr>
      <tr>
          <td>SCL</td>
          <td>Nano A5 I2C Clock</td>
      </tr>
      <tr>
          <td>IN</td>
          <td>GND</td>
      </tr>
      <tr>
          <td>EN</td>
          <td>Nano 5V Out</td>
      </tr>
  </tbody>
</table></div>
</li>
<li>
<p>Observe voltage between Out pins</p>
<p>The driver board preserves a default firmware already.</p>
<blockquote>
<p>The default firmware for the DRV2605L is set for use with ERM type motors.
<sup><a class="link" href="" >Tutorial</a></sup></p></blockquote>
</li>
</ol>
</li>
</ol>
<hr>
<h4 id="-registers-definition-of-drv2605l">➁ Registers Definition of DRV2605L
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>Use Arduino Nano to control an LRA motor to generate haptic motion</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- (2025-10-21T14:01) -->
<ol>
<li>
<p>Registers settings for Internal Trigger Mode
<sup><a class="link" href="" >r1-Learn</a></sup></p>
<ul>
<li>
<p><code>MODE</code> bits (Addr: <code>0x01</code>, lowest 3 bits)<sup><a class="link" href="" >Sec 8.4.2</a></sup>:
Mode selection register &ndash;&gt; 0 (Internal trigger mode)<sup><a class="link" href="" >Table 2</a></sup></p>
</li>
<li>
<p>Feedback control (Addr: <code>0x1A</code>)<sup><a class="link" href="" >Sec 8.6.20</a></sup>
<code>0x00110110</code> (<code>0x36</code>) &ndash;&gt; <code>0</code> (ERM mode);
<code>011</code> (4x  feedback gain ratio between braking gain and driving gain);
<code>01</code> (Medium  loop gain for the feedback control);
<code>10</code> (For ERM motor, 1.365x analog gain of the back-EMF amplifier.)</p>
</li>
<li>
<p>Library Selection register (Addr: <code>0x03</code>, lowest 3 bits)<sup><a class="link" href="" >Sec 8.3.5.2</a></sup>:
<code>LIBRARY_SEL</code>  &ndash;&gt; 2 (Library B for ERM)<sup><a class="link" href="" >Table 1</a></sup></p>
</li>
<li>
<p>Eight waveform sequencer register (Addr: <code>0x04</code> ~ <code>0x0B</code>) storing &ldquo;waveform identifier&rdquo;,
the index of waveform in a ROM library, will be read to play the corresponding waveform.</p>
</li>
<li>
<p>GO register (Addr: <code>0x0C</code>) remains high until the playback of the haptic waveform sequence is complete.</p>
</li>
</ul>
<details><summary>Arduino Code</summary> {{{
```cpp
#include <Sparkfun_DRV2605L.h> //SparkFun Haptic Motor Driver Library 
#include <Wire.h> //I2C library 
<p>SFE_HMD_DRV2605L HMD; //Create haptic motor driver object</p>
<p>void setup()
{
HMD.begin();    // Read Status register
Serial.begin(9600);
HMD.Mode(0); // Internal trigger input mode &ndash; Must use the GO() function to trigger playback.
HMD.MotorSelect(0xB6); // ERM motor, 4x Braking, Medium loop gain, 1.365x back EMF gain
HMD.Library(6); //1-5 &amp; 7 for ERM motors, 6 for LRA motors</p>
<p>}
void loop()
{
int seq = 0; //There are 8 sequence registers that can queue up to 8 waveforms
for(int wave = 1; wave &lt;=123; wave++) //There are 123 waveform effects
{
HMD.Waveform(seq, wave);     // Write the waveform identifier <code>wave</code> to the register seq
HMD.go();    // Start play waveforms
delay(600); //give enough time to play effect
Serial.print(&ldquo;Waveform Sequence:      &ldquo;);
Serial.println(seq);
Serial.print(&ldquo;Effect No.:      &ldquo;);
Serial.println(wave);</p>
<pre><code>if (wave%8==0) //Each Waveform register can queue 8 effects
{
    seq=seq+1;
}
if (wave%64==0) // After the last register is used start over 
{
    seq=0;
}
</code></pre>
<p>}
}</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">}}}
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [Haptic Motor Driver Hook-Up Guide - SparkFun Learn](https://learn.sparkfun.com/tutorials/haptic-motor-driver-hook-up-guide#:~:text=example%20in%20detail.-,Internal%20Trigger%20Mode,-The%20internal%20trigger)
}}}
</details>
:::
</li>
</ol>
<ul>
<li>
<p><strong>Actions</strong>:</p>
<ol>
<li>
<p>Connect a motor (got from John)</p>
<img src="Arduino_Nano-Motor-Connect-251023.jpg" width="100%">
</li>
</ol>
</li>
<li>
<p><strong>Results</strong>:</p>
<ol>
<li>
<p>Iterate 123 effects in the interal-ROM library
<sup><a class="link" href="" >Datasheet Sec 8.3.5.2</a></sup>:</p>
<img src="Arduino_Nano-Sparkfun_DRV2605L-Interal_Trigger_Mode-251021_153632.png" width="100%">
</li>
</ol>
</li>
</ul>
<hr>
<h3 id="i2c-on-renesas">I2C on Renesas
</h3><h4 id="-smartconfig-gen-i2c-for-rl78-f23">➀ SmartConfig Gen I2C For RL78-F23
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>Use <code>Smart Configurator</code> to generate I2C driver code</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- 2025-10-27T12:04 -->
<ol>
<li>
<p>I2C component configuration on the Sample Code of Multi-slave
<sup><a class="link" href="" >r1-Sample</a></sup></p>
<img src="I2C-Smcfg-01-251028_155253.png" width="100%">
<img src="I2C_Smcfg-251028_153452.png" width="100%">
</li>
</ol>
<!-- (2025-10-31T11:30) -->
<ol start="2">
<li>According to the circuit schematic, pins <code>p11</code> and <code>p12</code> are used for I2C,
corresponding to the simplified I2C function,
rather than &ldquo;IICA&rdquo;</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [RL78/G23 I2C Supporting Multiple Slave Address (Master) Rev.1.00 - Sample Code - R01AN5825XX0100](https://www.renesas.com/en/search?keywords=rl78%20i2c&type=Documents#:~:text=RL78/G23%20I2C%20Supporting%20Multiple%20Slave%20Address%20(Master)%20Rev.1.00%20%2D%20Sample%20Code)
}}}
</details>
:::
</li>
<li>
<p><strong>Actinos</strong>:</p>
<ol>
<li>
<p>If enabling the SER00 merely, the default pins are not p11 and p12.</p>
<p>I manually set the p11 and p12 to be used as serial.</p>
<p><img src=""></img></p>
</li>
</ol>
</li>
</ol>
<hr>
<h3 id="apis-of-iica">APIs of IICA
</h3><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>Functions of starting I2C transmission from the sample code for G23
<sup><a class="link" href="" >r1-Code</a></sup></li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [RL78/G23 I2C Supporting Multiple Slave Address (Master) Rev.1.00 - Sample Code](https://www.renesas.com/en/document/scd/rl78g23-i2c-supporting-multiple-slave-address-master-sample-code?queryID=c2b867e0601d8a2a2274a2a639faa841)
}}}
</details>
:::
</li>
</ol>
<hr>
<h4 id="-read-data-to-7-bit-addr">➀ Read Data to 7-bit Addr
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2025-10-23T10:57) -->
<ol>
<li>
<p>Read 256 bytes starting at address 0x00:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">status</span> <span class="o">=</span> <span class="nf">R_IICA0_Rx</span><span class="p">(</span><span class="n">sladr</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">,</span> <span class="n">g_Rx_buff</span><span class="p">,</span> <span class="mi">256</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>
<p>Definition:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// src\smc_gen\Config_IICA0\Config_IICA0_user.c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">uint8_t</span> <span class="nf">R_IICA0_Rx</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">sladr7</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">adr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span> <span class="k">const</span> <span class="n">rx_buf</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">rx_num</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Slave address (7 bit address): <code>sladr</code></p>
</li>
<li>
<p>Read starting address: <code>0x00</code></p>
</li>
<li>
<p>Received data pointer: <code>g_Rx_buff</code></p>
</li>
<li>
<p>Receive data number: <code>256</code></p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<hr>
<h4 id="-write-data-to-7-bit-addr">➁ Write Data to 7-bit Addr
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>
<p>Write 16 bytes data to slave</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="k">for</span> <span class="p">(</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="p">;</span> <span class="o">++</span><span class="n">i</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>   <span class="cm">/* transmit 16 bytes data to slave  */</span>
</span></span><span class="line"><span class="cl">    <span class="n">txbuf</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">INC_DATA</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">status</span> <span class="o">=</span> <span class="nf">R_IICA0_Tx</span><span class="p">(</span><span class="n">sladr</span><span class="p">,</span> <span class="n">i</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="p">(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="p">)</span><span class="n">txbuf</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- (2025-10-23T11:57) -->
<ol>
<li>
<p>Definition</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint8_t</span> <span class="nf">R_IICA0_Tx</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">sladr7</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">adr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span> <span class="k">const</span> <span class="n">tx_buf</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">tx_num</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>Slave Address: <code>sladr</code></p>
</li>
<li>
<p>Writing address: <code>i*16</code></p>
</li>
<li>
<p>Data to be sent: <code>txbuf</code></p>
</li>
<li>
<p>Number of bytes to be sent: <code>16</code></p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<hr>
<h4 id="-readwrite-to-8-bit-addr">➂ Read/Write to 8-bit Addr
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>
<p>Read data</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">status</span> <span class="o">=</span> <span class="nf">R_IICA0_Master_Receive</span><span class="p">((</span><span class="n">sladr</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="p">),</span> <span class="o">&amp;</span><span class="n">g_Rx_buff</span><span class="p">[(</span><span class="n">i</span><span class="o">*</span><span class="mi">16</span><span class="p">)],</span> <span class="mi">16</span> <span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Write data:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="n">status</span> <span class="o">=</span>  <span class="nf">R_IICA0_Master_Send</span><span class="p">((</span><span class="n">sladr</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="p">),</span> <span class="n">g_Tx_buff</span><span class="p">,</span> <span class="mi">257</span> <span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>
<p>Definition</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">uint8_t R_IICA0_Master_Receive<span class="o">(</span>uint8_t sladr8, uint8_t * const rx_buf, uint16_t rx_num<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Slave address 8-bit: <code>sladr</code></li>
<li>Data to be read: <code>rx_buf</code></li>
<li>Number of bytes: <code>rx_num</code></li>
</ul>
</li>
<li>
<p>Difference from <code>R_IICA0_Rx</code></p>
<ul>
<li><code>R_IICA0_Rx</code> requires data pointer <code>adr</code> (in the slave memory),
while <code>R_IICA0_Master_Receive</code> doesn&rsquo;t,
so it should be used when the <code>adr</code>, i.e. (interal) address register is set
<sup><a class="link" href="" >r1-GPT</a></sup></li>
</ul>
</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [GPT5 - Explain code functionality](https://chatgpt.com/c/68fa4028-666c-8329-bf86-fa8c930608db)
}}}
</details>
:::
</li>
</ol>
<hr>
<h3 id="rl78-f23-controls-haptic">RL78-F23 Controls Haptic
</h3><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>Use RL78/F23 haptic ECU to contol the haptic motor driver board</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- (2025-10-24T15:08) -->
<ol>
<li>
<p>I2C Frame of Writing the Mode Selection Register 0x01</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 496 153"
      >
      <g transform='translate(8,16)'>
<path d='M 120,80 L 128,80' fill='none' stroke='currentColor'></path>
<path d='M 288,80 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 416,80 L 432,80' fill='none' stroke='currentColor'></path>
<text text-anchor='middle' x='0' y='20' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='52' fill='currentColor' style='font-size:1em'>└</text>
<text text-anchor='middle' x='0' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='8' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='8' y='116' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='8' y='132' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='16' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='16' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='24' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='24' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='32' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='32' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='40' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='40' y='132' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='48' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='48' y='132' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='56' y='4' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='56' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='56' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='64' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='64' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='64' y='100' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='64' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='64' y='132' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='72' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='72' y='100' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='72' y='116' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='72' y='132' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='80' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='80' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='80' y='84' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='80' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='80' y='116' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='80' y='132' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='88' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='88' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='100' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='88' y='116' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='96' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='96' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='96' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='96' y='132' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='104' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='104' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='104' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='104' y='132' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='112' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='112' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='112' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='112' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='112' y='132' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='120' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='120' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='120' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='128' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='128' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='128' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='128' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='136' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='136' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='136' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='144' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='144' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='152' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='152' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>W</text>
<text text-anchor='middle' x='152' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='152' y='100' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='152' y='116' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='152' y='132' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='160' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='160' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='160' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='168' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='168' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='168' y='84' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='168' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='168' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='176' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='176' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='176' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='176' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='176' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='184' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='184' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='192' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='192' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='192' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='200' y='4' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='200' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='200' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='200' y='132' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='208' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='208' y='132' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='216' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='84' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='216' y='100' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='224' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='224' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='224' y='100' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='224' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='224' y='132' fill='currentColor' style='font-size:1em'>D</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='232' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='232' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='84' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='232' y='100' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='232' y='116' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='232' y='132' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='240' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='240' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='240' y='84' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='240' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='240' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='240' y='132' fill='currentColor' style='font-size:1em'>V</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='248' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='248' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='248' y='100' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='248' y='116' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='248' y='132' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='256' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='256' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='256' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='256' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='256' y='132' fill='currentColor' style='font-size:1em'>6</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='264' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='264' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='264' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='264' y='132' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='272' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='272' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='272' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='272' y='132' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='280' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='280' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='132' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='288' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='288' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='288' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='296' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='296' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='304' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='304' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='304' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='312' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='312' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='84' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='312' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='312' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='320' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='320' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='320' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='320' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='328' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='328' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='336' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='336' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='336' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='344' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='344' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='344' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='352' y='4' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='352' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='352' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='360' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='360' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='360' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='84' fill='currentColor' style='font-size:1em'>V</text>
<text text-anchor='middle' x='360' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='368' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='368' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='368' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='368' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='376' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='376' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='84' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='376' y='100' fill='currentColor' style='font-size:1em'>b</text>
<text text-anchor='middle' x='376' y='116' fill='currentColor' style='font-size:1em'>x</text>
<text text-anchor='middle' x='384' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='384' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='384' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='384' y='84' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='384' y='100' fill='currentColor' style='font-size:1em'>y</text>
<text text-anchor='middle' x='384' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='392' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='392' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='392' y='100' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='392' y='116' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='400' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='400' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='400' y='100' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='408' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='408' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='408' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='416' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='416' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='416' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='424' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='424' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='424' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='424' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='432' y='4' fill='currentColor' style='font-size:1em'>u</text>
<text text-anchor='middle' x='432' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='432' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='440' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='440' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='440' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='440' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='440' y='84' fill='currentColor' style='font-size:1em'>-</text>
<text text-anchor='middle' x='448' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='448' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='448' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='448' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='448' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='456' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='456' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='456' y='84' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='456' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='456' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='464' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='464' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='464' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='464' y='132' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='472' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='36' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='472' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='472' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='472' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='472' y='100' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='472' y='116' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='480' y='20' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='480' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='52' fill='currentColor' style='font-size:1em'>┘</text>
<text text-anchor='middle' x='480' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='84' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='100' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='116' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='480' y='132' fill='currentColor' style='font-size:1em'>│</text>
</g>

    </svg>
  
</div>
</li>
</ol>
</li>
</ol>
<hr>
<h4 id="-i2c-multiplexer-nca9548a">➁ I2C Multiplexer NCA9548A
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2025-10-20T11:13) -->
<ol>
<li>
<p>Identical parts have the same I2C address on the bus, so the MCU cannot individually control each component</p>
<p>Therefore, a &ldquo;switch&rdquo; is used to select one of the components.</p>
</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [Gemini 2.5P - I2C Switch for Identical Haptic Motors](https://gemini.google.com/share/67102feee696)
2. [NCA9548APW (8-channel I2C-bus switch with reset) | Nexperia](https://www.nexperia.com/product/NCA9548APW)
}}}
</details>
:::
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- (2025-11-02T21:47) -->
<ol>
<li>
<p><strong>SDA for selecting channel 0</strong></p>
<p>Write the control register:</p>
<ul>
<li>first byte: <code>0x11100000</code> (0x70 + 0)</li>
<li>second byte: <code>0x01</code></li>
</ul>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 440 105"
      >
      <g transform='translate(8,16)'>
<text text-anchor='middle' x='0' y='20' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='0' y='52' fill='currentColor' style='font-size:1em'>└</text>
<text text-anchor='middle' x='0' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='8' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='8' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='8' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='8' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='16' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='16' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='16' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='24' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='24' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='24' y='84' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='32' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='32' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='32' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='32' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='40' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='40' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='48' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='48' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='56' y='4' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='56' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='56' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='64' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='64' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='72' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='72' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='80' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='80' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='88' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='88' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='96' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='96' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='96' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='104' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='104' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='104' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='104' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='112' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='112' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='112' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='112' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='120' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='120' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='120' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='128' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='128' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='128' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='128' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='136' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='136' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='136' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='136' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='144' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='144' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='152' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='152' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='152' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='152' y='84' fill='currentColor' style='font-size:1em'>R</text>
<text text-anchor='middle' x='160' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='160' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='160' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='160' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='160' y='84' fill='currentColor' style='font-size:1em'>W</text>
<text text-anchor='middle' x='168' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='168' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='168' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='168' y='84' fill='currentColor' style='font-size:1em'>⁻</text>
<text text-anchor='middle' x='176' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='176' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='176' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='184' y='4' fill='currentColor' style='font-size:1em'>┌</text>
<text text-anchor='middle' x='184' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='184' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='184' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='192' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='192' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='192' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='200' y='36' fill='currentColor' style='font-size:1em'>7</text>
<text text-anchor='middle' x='200' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='208' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='208' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>c</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='216' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='216' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='224' y='4' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='224' y='36' fill='currentColor' style='font-size:1em'>6</text>
<text text-anchor='middle' x='224' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>n</text>
<text text-anchor='middle' x='232' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='232' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='240' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='240' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='240' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='248' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='248' y='36' fill='currentColor' style='font-size:1em'>5</text>
<text text-anchor='middle' x='248' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='256' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='256' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='264' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='264' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='264' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='272' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='272' y='36' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='272' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='280' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='280' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='288' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='288' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='288' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='288' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='4' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='296' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='296' y='36' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='296' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='304' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='4' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='312' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='312' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='312' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='320' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='320' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='320' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='328' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='328' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='336' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='336' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='336' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='344' y='36' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='344' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='352' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='352' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='360' y='36' fill='currentColor' style='font-size:1em'>B</text>
<text text-anchor='middle' x='360' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='368' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='368' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='368' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='376' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='376' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='376' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='384' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='384' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='384' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='392' y='20' fill='currentColor' style='font-size:1em'>┬</text>
<text text-anchor='middle' x='392' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='392' y='52' fill='currentColor' style='font-size:1em'>┴</text>
<text text-anchor='middle' x='400' y='20' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='400' y='36' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='400' y='52' fill='currentColor' style='font-size:1em'>─</text>
<text text-anchor='middle' x='400' y='68' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='400' y='84' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='408' y='20' fill='currentColor' style='font-size:1em'>┐</text>
<text text-anchor='middle' x='408' y='36' fill='currentColor' style='font-size:1em'>│</text>
<text text-anchor='middle' x='408' y='52' fill='currentColor' style='font-size:1em'>┘</text>
<text text-anchor='middle' x='408' y='84' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='416' y='84' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='424' y='84' fill='currentColor' style='font-size:1em'>p</text>
</g>

    </svg>
  
</div>
</li>
</ol>
</li>
<li>
<p><strong>Actions</strong>:</p>
<ol>
<li>
<p>Write 1 byte to the address</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
</ol>
<hr>
<h4 id="write-read-register-of-nca9548a">Write-Read Register of NCA9548A
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol start="2">
<li>
<p>Set flag variables for transmission completion</p>
</li>
<li></li>
</ol>
</li>
</ol>
<hr>
<h3 id="rl78-f23-read-drv2605l">RL78-F23 Read DRV2605L
</h3><h4 id="remove-stopcondition-from-callback">Remove StopCondition From Callback
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>
<p>The variable that monitors a target register does not change after a single write-read sequence.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">uint8_t</span> <span class="n">watch_mod</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Write 0 to register 0x01
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Read the value in the register 0x01
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_read_reg</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">watch_mod</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>The value of <code>watch_mod</code> doesn&rsquo;t change, maintaining its initial value.</li>
</ul>
<p>As a result, it&rsquo;s unclear whether the write or the sebsequent read is failing.</p>
</li>
</ol>
<ul>
<li>TL;DR Answer: The callback only set the communication completion flag.</li>
</ul>
</li>
<li>
<p><strong>Supports</strong>:</p>
<!-- (2025-11-07T14:24) -->
<ol>
<li>
<p>In a simplified IIC reading flow, singals comparison of issuing a <code>StopCondition()</code> immediately after the write v.s. issuing a repeated Start are illustrated below.
<sup><a class="link" href="" >r1-Forum</a></sup></p>
<p>{{{</p>
<div class="table-wrapper"><table>
<thead>
  <tr>
    <th style="text-align:left; padding:8px; border-bottom:1px solid #ddd;">Read without stop condition</th>
    <th style="text-align:left; padding:8px; border-bottom:1px solid #ddd;">Read with stop condition</th>
  </tr>
</thead>
</tbody>
  <tr>
    <td style="vertical-align: top; width=50%;">
    <pre style="margin:0;"><code class="language-c">
    R_IIC00_Master_Send(0XC0, data_buf_tx, 1);
    while(IIC00_flg_end == 0)
    {
        NOP();
    }
    IIC00_flg_end = 0;
    // R_IIC00_StopCondition();  <-----
    //IIC00_flg_end is set to 1 when interrupt is generated
    R_IIC00_Master_Receive(0XC0, data_buf_tx2, 2);
    while(IIC00_flg_end == 0)
    {
        NOP();
    }
    IIC00_flg_end = 0;
    R_IIC00_StopCondition();
    </code></pre>
    </td>
    <td style="vertical-align: top; width=50%;">
    <pre style="margin:0;"><code class="language-c">
    R_IIC00_Master_Send(0XC0, data_buf_tx, 1);
    while(IIC00_flg_end == 0)
    {
        NOP();
    }
    IIC00_flg_end = 0;
    R_IIC00_StopCondition();
    //IIC00_flg_end is set to 1 when interrupt is generated
    R_IIC00_Master_Receive(0XC0, data_buf_tx2, 2);
    while(IIC00_flg_end == 0)
    {
        NOP();
    }
    IIC00_flg_end = 0;
    R_IIC00_StopCondition();
    </code></pre>
    </td>
  </tr>
  <tr>
    <td style="vertical-align: top; width=50%;">
    <img src="./Simplified_IIC-without_STOP.png" width="100%">
    </td>
    <td style="vertical-align: top; width=50%;">
    <img src="Simplified_IIC-STOP.png" width="100%">
    </td>
  </tr>
<tbody>
</table></div>
}}}
</li>
<li>
<p>Based on the DRV2605L datasheet<sup><a class="link" href="" >Sec 8.5.3.5</a></sup>, a single-byte read uses a repeated start condition,
between the address/write phase (for register pointer) and the address/read phase,
there is not a stop condition in between.
Instead, a start condition (belonging to the address/read phase) follows.</p>
<img src="DRV2605L-Single_Byte_Read-2025-11-07_164240.png" width="100%">
<ul>
<li>The bus should do: StartCondition &ndash;&gt; SlaveAddr+W &mdash;&gt; RegAddr &mdash;&gt; StartCondition &ndash;&gt; SlaveAddr+R &ndash;&gt; DataBuf</li>
</ul>
<!-- Note: (Avoid to be printed) -->
<ul>
<li>
<p>I realized a &ldquo;Repeat start condition&rdquo; doesn&rsquo;t include a stop condition while I was explaining my code to Jackie,
when I noticed there is not a dropping edge, as a stop condition appears.</p>
</li>
<li>
<p>There must not be a stop condition after the initial write phase
that sets the register pointer; there must be the start condition of the read phase.</p>
</li>
<li>
<p>If a StopCondition is inserted, the device won&rsquo;t treat the preceding write as the prerequisite pointer write for the following read.</p>
</li>
<li>
<p>The paragraph above the timing diagram already describes the correct bus signals, but I initially overlooked it.</p>
</li>
<li>
<p>Jackie inspired me that the <code>StartCondition</code> and <code>StopCondition</code> are practical elements consituting the protocal implementation, during she reviewed my code.</p>
</li>
</ul>
<!-- -->
</li>
</ol>
<p>::: aside</p>
<details><summary>References</summary> {{{
1. [RL78/G13 - Not able to generate repeated start using simplified I2C(SDA00) - RL78 MCU Forum | Renesas Engineering Community](https://community.renesas.com/mcu/rl78/f/rl78-forum/28849/rl78-g13---not-able-to-generate-repeated-start-using-simplified-i2c-sda00?queryID=bf2e67bb2347628dfa3326f8038c49c2)
   <br><small>
   Searched by `rl78 simplified i2c sample code` at
   [Search | Renesas](https://www.renesas.com/en/search?keywords=rl78%20simplified%20i2c%20sample%20code)
   </small>
}}}
</details>
:::
</li>
<li>
<p><strong>Actions</strong>:</p>
<ol>
<li>
<p><code>R_IIC00_StopCondition()</code> <strong>should not</strong> be called inside the ISR callback,
because the Stop condition is <strong>not always</strong> the correct bus action at the end of a write phase.
some transactions require an immediate Start condition to read depending on specific devices.</p>
<p>The stop <code>R_IIC00_StopCondition()</code> should only be issued at the point where the entire IIC communication concludes.</p>
<!-- Note: (Chinese)
Stop condition 不能写在中断服务函数的 callback 函数中，因为有的情况下，write 完成后，不应立即执行 Stop condition，
反而后面可能需要紧跟一个 start condition 进入 read。
--->
</li>
<li>
<p>The callback function only set the flag that signal the current data phase is done.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Config_IIC00_user.c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#define DRV2605L_ADDR7  0x5A
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">static</span> <span class="k">volatile</span> <span class="kt">uint8_t</span> <span class="n">i2c_done</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="k">volatile</span> <span class="kt">uint8_t</span> <span class="n">i2c_err</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="nf">r_Config_IIC00_callback_master_sendend</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// R_Config_IIC00_StopCondition();   /* STOP after write */
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">i2c_done</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="nf">r_Config_IIC00_callback_master_receiveend</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">i2c_done</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">static</span> <span class="kt">void</span> <span class="nf">r_Config_IIC00_callback_master_error</span><span class="p">(</span><span class="n">MD_STATUS</span> <span class="n">flag</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">R_Config_IIC00_StopCondition</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="n">i2c_err</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="n">flag</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">i2c_done</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>These functions are called in the ISR <code>r_Config_IIC00_interrupt()</code></li>
</ul>
</li>
<li>
<p>Write register</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Write 1 register (reg, val) in a single I2C transaction
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MD_STATUS</span> <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">reg</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">uint8_t</span> <span class="n">tx</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">reg</span><span class="p">,</span> <span class="n">val</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">i2c_done</span> <span class="o">=</span> <span class="n">i2c_err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_Master_Send</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">DRV2605L_ADDR7</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">),</span> <span class="n">tx</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="n">i2c_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="cm">/* wait */</span>
</span></span><span class="line"><span class="cl">    <span class="nf">NOP</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_StopCondition</span><span class="p">();</span>	<span class="c1">// Followed by a StopCondition after writing done
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">return</span> <span class="n">i2c_err</span> <span class="o">?</span> <span class="nl">MD_ERROR1</span> <span class="p">:</span> <span class="n">MD_OK</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Read register</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Read 1 register (does a pointer write, then a read)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MD_STATUS</span> <span class="nf">drv2605l_read_reg</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">register_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">val</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">i2c_done</span> <span class="o">=</span> <span class="n">i2c_err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_Master_Send</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">DRV2605L_ADDR7</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">reg</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="n">i2c_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="cm">/* wait */</span>
</span></span><span class="line"><span class="cl">    <span class="nf">NOP</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Don&#39;t append StopCondition, since another StartCondition is required.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="n">i2c_done</span> <span class="o">=</span> <span class="n">i2c_err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_Master_Receive</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">DRV2605L_ADDR7</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="n">i2c_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="cm">/* wait */</span>
</span></span><span class="line"><span class="cl">    <span class="nf">NOP</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>	
</span></span><span class="line"><span class="cl">  <span class="c1">// Followed by a StopCondition after reading done
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">R_Config_IIC00_StopCondition</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">i2c_err</span> <span class="o">?</span> <span class="nl">MD_ERROR1</span> <span class="p">:</span> <span class="n">MD_OK</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Write and read the <code>0x01</code> register</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// main.c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cp">#include</span> <span class="cpf">&#34;r_smc_entry.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;src/multiplexer.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&#34;src/drv2605l.h&#34;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">uint8_t</span> <span class="n">watch_mod</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_Create</span><span class="p">();</span>   <span class="c1">// init registers &amp; pins
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">EI</span><span class="p">();</span>                      <span class="c1">// enable global maskable interrupts
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="kt">uint8_t</span> <span class="n">mux</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">;</span>  <span class="c1">// match your board pins
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="kt">uint8_t</span> <span class="n">val</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="cm">/* 1) Reset state should be 0x00 */</span>
</span></span><span class="line"><span class="cl">  <span class="nf">nca9548a_disable_all</span><span class="p">(</span><span class="n">mux</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nf">nca9548a_read_selected</span><span class="p">(</span><span class="n">mux</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>   <span class="c1">// expect 0x00
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="cm">/* 2) Enable CH3 and verify */</span>
</span></span><span class="line"><span class="cl">  <span class="nf">nca9548a_select_one</span><span class="p">(</span><span class="n">mux</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nf">nca9548a_read_selected</span><span class="p">(</span><span class="n">mux</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">);</span>   <span class="c1">// expect 0x08
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="cm">/* 3) Probe a known device behind CH3 */</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Test write the mode register
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="nf">drv2605l_read_reg</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">watch_mod</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="cm">/* 4) Deselect all and confirm device disappears */</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// nca9548a_disable_all(mux);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
</ol>
<h4 id="need-stopcondition-after-write-regaddr">Need StopCondition After Write RegAddr
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<!-- (2025-11-10T11:51) -->
<ol>
<li>After writing a register of DRV2605L, then reading the register results in <code>0xff</code> all the time.</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>
<p>I accidently noticed the code of SparkFun library,
and its reading function has a intermediate stop:</p>
<figure>
<img src="DRV2605L-SparkFun-Read_Func_Has_Stop-251110_114322.png">
<figcaption = "This code has been left open on my laptop for several days."></figcaption>
</figure>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">//Read function
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">uint8_t</span> <span class="n">SFE_HMD_DRV2605L</span><span class="o">::</span><span class="n">readDRV2605L</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">reg</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kt">uint8_t</span> <span class="n">var</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Enable I2C Read
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Wire</span><span class="p">.</span><span class="n">beginTransmission</span><span class="p">(</span><span class="n">I2C_ADDR</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Wire</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="n">byte</span><span class="p">)</span><span class="n">reg</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Wire</span><span class="p">.</span><span class="n">endTransmission</span><span class="p">();</span>   <span class="c1">// &lt;--- Conclude writing
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="n">Wire</span><span class="p">.</span><span class="n">requestFrom</span><span class="p">((</span><span class="n">byte</span><span class="p">)</span><span class="n">I2C_ADDR</span><span class="p">,</span> <span class="p">(</span><span class="n">byte</span><span class="p">)</span><span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">var</span> <span class="o">=</span> <span class="n">Wire</span><span class="p">.</span><span class="n">read</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="n">var</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>It stimulates me to try adding a StopCondition after the write phase.</li>
</ul>
</li>
</ol>
</li>
<li>
<p><strong>Actions</strong>:</p>
<ol>
<li>
<p>Added another StopCondition after writing the register address.
Finally, the updated register value can be read correctly.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="c1">// Config_IIC00_user.c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// Read 1 register (does a pointer write, then a read)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">MD_STATUS</span> <span class="nf">drv2605l_read_reg</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">register_addr</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">val_read_buff_ptr</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">i2c_done</span> <span class="o">=</span> <span class="n">i2c_err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">R_Config_IIC00_Master_Send</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">DRV2605L_ADDR7</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">register_addr</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="n">i2c_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="cm">/* wait */</span>
</span></span><span class="line"><span class="cl">      <span class="nf">NOP</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Add StopCondition to conclude write phase
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">R_Config_IIC00_StopCondition</span><span class="p">();</span>   <span class="c1">// &lt;-----
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="n">i2c_done</span> <span class="o">=</span> <span class="n">i2c_err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="nf">R_Config_IIC00_Master_Receive</span><span class="p">((</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">DRV2605L_ADDR7</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">),</span> <span class="n">val_read_buff_ptr</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span><span class="p">(</span><span class="n">i2c_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="cm">/* wait */</span>
</span></span><span class="line"><span class="cl">      <span class="nf">NOP</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>	
</span></span><span class="line"><span class="cl">    <span class="c1">// Followed by a StopCondition after reading done
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">R_Config_IIC00_StopCondition</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">i2c_err</span> <span class="o">?</span> <span class="nl">MD_ERROR1</span> <span class="p">:</span> <span class="n">MD_OK</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
</ol>
<hr>
<h4 id="write-registers-of-drv2605l">Write Registers of DRV2605L
</h4><ol>
<li>
<p><strong>Problems</strong>:</p>
<ol>
<li>Write values into registers following the SparkFun example code</li>
</ol>
</li>
<li>
<p><strong>Supports</strong>:</p>
<ol>
<li>Write 5 registers: Mode reg (0x01), Feedback control reg (0x1A), Library selection reg (0x03), Waveform sequencer registers (0x04), and GO register (0x0C)</li>
</ol>
</li>
<li>
<p><strong>Actions</strong>:</p>
<!-- (2025-11-10T14:44) -->
<ol>
<li>
<p>Call I2C single-byte write function:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c" data-lang="c"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nf">R_Config_IIC00_Create</span><span class="p">();</span>   <span class="c1">// init registers &amp; pins
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">EI</span><span class="p">();</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Write the Mode register 0x01. Internal trigger mode: 0x00
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span> <span class="mh">0x00</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Write the Feedback control register 0x1A
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x1A</span><span class="p">,</span> <span class="mh">0xB9</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Write the Library selection register 0x03
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x03</span><span class="p">,</span> <span class="mh">0x06</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">while</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Write the Waveform sequencer register 0x04
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x04</span><span class="p">,</span> <span class="mh">0x02</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Write the Go register
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">drv2605l_write_reg</span><span class="p">(</span><span class="mh">0x0C</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
</li>
</ol>
<hr>
<h2 id="spi">SPI
</h2><h3 id="comm-protocol-1">Comm Protocol
</h3><p><strong>References</strong>:</p>
<ol>
<li><a id="Spi-r1"></a>
<a class="link" href="https://www.bilibili.com/video/BV1F54y1M7e7/"  target="_blank" rel="noopener"
    >深入理解SPi通讯协议，5分钟看懂！ - bilibili - 爱上半导体</a>
<small>
<ul>
<li>Searched by <code>spi通信协议</code> in
<a class="link" href="https://search.bilibili.com/all?vt=48656400&amp;keyword=spi%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE&amp;from_source=webtop_search&amp;spm_id_from=333.788&amp;search_source=5"  target="_blank" rel="noopener"
    >Bilibili</a>
</small></li>
</ul>
</li>
<li><a id="Spi-r2"></a>
<a class="link" href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface#Mode_Numbers"  target="_blank" rel="noopener"
    >Serial Peripheral Interface - Wikipedia</a></li>
<li><a id="Spi-r3"></a>
<a class="link" href="https://en.wikipedia.org/wiki/Synchronous_serial_communication"  target="_blank" rel="noopener"
    >Synchronous serial communication - Wikipedia</a>
<small>
<ul>
<li>Searched by <code>synchronized communication protocol</code> in
<a class="link" href="https://duckduckgo.com/?q=synchronized&#43;communication&#43;protocol&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-r4"></a>
<a class="link" href="https://stackoverflow.com/q/74299146/18003182"  target="_blank" rel="noopener"
    >How to read 16 bit register of TDC IC using SPI in Arduino? - SO</a>
<small>
<ul>
<li>Searched by <code>16-bit SPI arduino</code> in
<a class="link" href="https://duckduckgo.com/?q=16-bit&#43;SPI&#43;arduino&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-r5"></a>
<a class="link" href="https://blog.csdn.net/FuckerGod/article/details/130563431"  target="_blank" rel="noopener"
    >树莓派（主）与STM32（从）使用SPI通信 - CSDN</a>
<small>
<ul>
<li>Searched by <code>树莓派 SPI 实验</code> in
<a class="link" href="https://duckduckgo.com/?q=%E6%A0%91%E8%8E%93%E6%B4%BE&#43;SPI&#43;%E5%AE%9E%E9%AA%8C&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-r6"></a>
<a class="link" href="https://forum.arduino.cc/t/sending-a-16-bit-message-spi/544856"  target="_blank" rel="noopener"
    >Sending a 16 bit message (SPI) - Arduino Forum</a>
<small>
<ul>
<li>Searched by <code>16-bit SPI arduino</code> In
<a class="link" href="https://duckduckgo.com/?q=16-bit&#43;SPI&#43;arduino&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<p>(2024-10-13)</p>
<ol>
<li>
<p>SPI: Serial Peripheral Interface</p>
</li>
<li>
<p>Only <strong>one master</strong>, multiple slaves</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 504 377"
      >
      <g transform='translate(8,16)'>
<path d='M 0,0 L 56,0' fill='none' stroke='currentColor'></path>
<path d='M 240,0 L 328,0' fill='none' stroke='currentColor'></path>
<path d='M 56,16 L 192,16' fill='none' stroke='currentColor'></path>
<path d='M 192,16 L 240,16' fill='none' stroke='currentColor'></path>
<path d='M 56,48 L 176,48' fill='none' stroke='currentColor'></path>
<path d='M 176,48 L 192,48' fill='none' stroke='currentColor'></path>
<path d='M 192,48 L 240,48' fill='none' stroke='currentColor'></path>
<path d='M 56,80 L 160,80' fill='none' stroke='currentColor'></path>
<path d='M 160,80 L 176,80' fill='none' stroke='currentColor'></path>
<path d='M 176,80 L 192,80' fill='none' stroke='currentColor'></path>
<path d='M 192,80 L 240,80' fill='none' stroke='currentColor'></path>
<path d='M 56,112 L 160,112' fill='none' stroke='currentColor'></path>
<path d='M 160,112 L 176,112' fill='none' stroke='currentColor'></path>
<path d='M 176,112 L 192,112' fill='none' stroke='currentColor'></path>
<path d='M 192,112 L 240,112' fill='none' stroke='currentColor'></path>
<path d='M 240,128 L 328,128' fill='none' stroke='currentColor'></path>
<path d='M 56,144 L 144,144' fill='none' stroke='currentColor'></path>
<path d='M 240,160 L 328,160' fill='none' stroke='currentColor'></path>
<path d='M 56,176 L 128,176' fill='none' stroke='currentColor'></path>
<path d='M 192,176 L 240,176' fill='none' stroke='currentColor'></path>
<path d='M 0,192 L 56,192' fill='none' stroke='currentColor'></path>
<path d='M 176,192 L 192,192' fill='none' stroke='currentColor'></path>
<path d='M 192,192 L 240,192' fill='none' stroke='currentColor'></path>
<path d='M 160,208 L 176,208' fill='none' stroke='currentColor'></path>
<path d='M 176,208 L 192,208' fill='none' stroke='currentColor'></path>
<path d='M 192,208 L 240,208' fill='none' stroke='currentColor'></path>
<path d='M 144,224 L 160,224' fill='none' stroke='currentColor'></path>
<path d='M 160,224 L 176,224' fill='none' stroke='currentColor'></path>
<path d='M 176,224 L 192,224' fill='none' stroke='currentColor'></path>
<path d='M 192,224 L 240,224' fill='none' stroke='currentColor'></path>
<path d='M 240,240 L 328,240' fill='none' stroke='currentColor'></path>
<path d='M 240,272 L 328,272' fill='none' stroke='currentColor'></path>
<path d='M 192,288 L 240,288' fill='none' stroke='currentColor'></path>
<path d='M 176,304 L 240,304' fill='none' stroke='currentColor'></path>
<path d='M 160,320 L 240,320' fill='none' stroke='currentColor'></path>
<path d='M 128,336 L 240,336' fill='none' stroke='currentColor'></path>
<path d='M 240,352 L 328,352' fill='none' stroke='currentColor'></path>
<path d='M 0,0 L 0,192' fill='none' stroke='currentColor'></path>
<path d='M 56,0 L 56,16' fill='none' stroke='currentColor'></path>
<path d='M 56,16 L 56,48' fill='none' stroke='currentColor'></path>
<path d='M 56,48 L 56,80' fill='none' stroke='currentColor'></path>
<path d='M 56,80 L 56,112' fill='none' stroke='currentColor'></path>
<path d='M 56,112 L 56,144' fill='none' stroke='currentColor'></path>
<path d='M 56,144 L 56,176' fill='none' stroke='currentColor'></path>
<path d='M 56,176 L 56,192' fill='none' stroke='currentColor'></path>
<path d='M 128,176 L 128,336' fill='none' stroke='currentColor'></path>
<path d='M 144,144 L 144,224' fill='none' stroke='currentColor'></path>
<path d='M 160,80 L 160,112' fill='none' stroke='currentColor'></path>
<path d='M 160,112 L 160,208' fill='none' stroke='currentColor'></path>
<path d='M 160,208 L 160,224' fill='none' stroke='currentColor'></path>
<path d='M 160,224 L 160,320' fill='none' stroke='currentColor'></path>
<path d='M 176,48 L 176,80' fill='none' stroke='currentColor'></path>
<path d='M 176,80 L 176,112' fill='none' stroke='currentColor'></path>
<path d='M 176,112 L 176,192' fill='none' stroke='currentColor'></path>
<path d='M 176,192 L 176,208' fill='none' stroke='currentColor'></path>
<path d='M 176,208 L 176,224' fill='none' stroke='currentColor'></path>
<path d='M 176,224 L 176,304' fill='none' stroke='currentColor'></path>
<path d='M 192,16 L 192,48' fill='none' stroke='currentColor'></path>
<path d='M 192,48 L 192,80' fill='none' stroke='currentColor'></path>
<path d='M 192,80 L 192,112' fill='none' stroke='currentColor'></path>
<path d='M 192,112 L 192,176' fill='none' stroke='currentColor'></path>
<path d='M 192,176 L 192,192' fill='none' stroke='currentColor'></path>
<path d='M 192,192 L 192,208' fill='none' stroke='currentColor'></path>
<path d='M 192,208 L 192,224' fill='none' stroke='currentColor'></path>
<path d='M 192,224 L 192,288' fill='none' stroke='currentColor'></path>
<path d='M 240,0 L 240,16' fill='none' stroke='currentColor'></path>
<path d='M 240,16 L 240,48' fill='none' stroke='currentColor'></path>
<path d='M 240,48 L 240,80' fill='none' stroke='currentColor'></path>
<path d='M 240,80 L 240,112' fill='none' stroke='currentColor'></path>
<path d='M 240,112 L 240,128' fill='none' stroke='currentColor'></path>
<path d='M 240,160 L 240,176' fill='none' stroke='currentColor'></path>
<path d='M 240,176 L 240,192' fill='none' stroke='currentColor'></path>
<path d='M 240,192 L 240,208' fill='none' stroke='currentColor'></path>
<path d='M 240,208 L 240,224' fill='none' stroke='currentColor'></path>
<path d='M 240,224 L 240,240' fill='none' stroke='currentColor'></path>
<path d='M 240,272 L 240,288' fill='none' stroke='currentColor'></path>
<path d='M 240,288 L 240,304' fill='none' stroke='currentColor'></path>
<path d='M 240,304 L 240,320' fill='none' stroke='currentColor'></path>
<path d='M 240,320 L 240,336' fill='none' stroke='currentColor'></path>
<path d='M 240,336 L 240,352' fill='none' stroke='currentColor'></path>
<path d='M 328,0 L 328,128' fill='none' stroke='currentColor'></path>
<path d='M 328,160 L 328,240' fill='none' stroke='currentColor'></path>
<path d='M 328,272 L 328,352' fill='none' stroke='currentColor'></path>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='16' y='100' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='24' y='100' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='32' y='100' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='40' y='100' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='48' y='100' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='72' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='72' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='72' y='100' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='72' y='132' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='72' y='164' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='80' y='4' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='80' y='68' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='80' y='100' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='80' y='132' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='80' y='164' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='88' y='4' fill='currentColor' style='font-size:1em'>K</text>
<text text-anchor='middle' x='88' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='88' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='88' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='88' y='132' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='88' y='164' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='96' y='36' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='96' y='68' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='208' y='36' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='208' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='208' y='100' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='216' y='4' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='216' y='36' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='216' y='68' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='216' y='100' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='224' y='4' fill='currentColor' style='font-size:1em'>K</text>
<text text-anchor='middle' x='224' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='224' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='224' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='232' y='36' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='232' y='68' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='264' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='264' y='196' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='264' y='324' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='272' y='68' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='272' y='196' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='272' y='324' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='280' y='68' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='280' y='196' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='280' y='324' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='288' y='68' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='288' y='196' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='288' y='324' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='296' y='68' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='296' y='196' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='296' y='324' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='312' y='68' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='312' y='196' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='312' y='324' fill='currentColor' style='font-size:1em'>3</text>
</g>

    </svg>
  
</div>
</li>
<li>
<p>Four wires:</p>
<ol>
<li>
<p>CS (Chip Selection)</p>
<ul>
<li>Typically, a low voltage enables an SPI device, though this can vary depending on the device.</li>
</ul>
</li>
<li>
<p>SCK (Serial Clock)</p>
</li>
<li>
<p>MOSI (Master Output, Slave Input)</p>
</li>
<li>
<p>MISO (Master Input, Slave Output)</p>
</li>
</ol>
<p>(2024-10-25)</p>
<img src="https://upload.wikimedia.org/wikipedia/commons/c/c8/SPI_basic_operation%2C_single_Main_%26_Sub.svg" width="100%">
<ul>
<li>
<p>There will be <strong>many wires</strong> as each slave requires 4 wires to communicate with the master.
In contrast, a bus, such as I2C bus, achieves less wires by coordinating the usage of the bus at a time.</p>
<p>On the other hand, SPI is <strong>simpler</strong> than I2C, because there is no need for identifying and looking for the target device through a unique address.
The <strong>master</strong> device in SPI can talk to a specific slave device by enable the corresponding <code>SS</code> wire, and send/recieve data by <strong>manipulating</strong> the <code>SCK</code> line.</p>
<ul>
<li>
<p>Device reads data <strong>only</strong> when it detects oscillation on the <code>SCK</code> line.
The <code>SCK</code> keeps in the idle state when no data is being transmitted <sup><a class="link" href="#Spi-r5" >r5-CSDN Sec. 2.3</a></sup>.
Therefore, the Clock polarity is important.
And the clock phase is also crucial as it determine the <strong>sampling points</strong> <sup><a class="link" href="#Spi-r2" >r2-Docs</a></sup>.</p>
<p>The waveform of SPI in a logic analyzer. <sup><a class="link" href="#Spi-r6" >r6-Forum</a></sup></p>
<img src="Arduino_Forum-SPI_Almost_There-2024-10-31.png" width="100%">
</li>
</ul>
<p>Full-duplex communication between 2 participants is achieved by <strong>two data wires</strong>: <code>MOSI</code> and <code>MISO</code>.
There are two lanes, and each lane is for one direction only.
Full-duplex means reading and sending can happen together in the <code>loop()</code>. &ldquo;You receive as the same time as you send&rdquo; <sup><a class="link" href="#Spi-r4" >r4-SO</a></sup>.</p>
<p>(2024-10-30)</p>
<ul>
<li>Different data types use their own wire, not sharing with other data type.
So, it&rsquo;s not like I2C that needs to differentiate the signal is an address or a byte of data, which are transferred on a Single wire commonly.
Whereas, SPI use two lines for chip selection and data transmission separately.</li>
</ul>
<p>Also, the <strong>topology</strong> of a SPI network is simple, i.e., a centralized network, as there is only one master managing multiple slaves via its <code>SS</code> and <code>SCK</code>.</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 360 121"
      >
      <g transform='translate(8,16)'>
<path d='M 0,0 L 128,0' fill='none' stroke='currentColor'></path>
<path d='M 128,16 L 152,16' fill='none' stroke='currentColor'></path>
<path d='M 152,16 L 200,16' fill='none' stroke='currentColor'></path>
<path d='M 240,16 L 264,16' fill='none' stroke='currentColor'></path>
<path d='M 24,32 L 40,32' fill='none' stroke='currentColor'></path>
<path d='M 56,32 L 72,32' fill='none' stroke='currentColor'></path>
<path d='M 88,32 L 104,32' fill='none' stroke='currentColor'></path>
<path d='M 128,48 L 152,48' fill='none' stroke='currentColor'></path>
<path d='M 152,48 L 200,48' fill='none' stroke='currentColor'></path>
<path d='M 240,48 L 264,48' fill='none' stroke='currentColor'></path>
<path d='M 16,64 L 24,64' fill='none' stroke='currentColor'></path>
<path d='M 40,64 L 56,64' fill='none' stroke='currentColor'></path>
<path d='M 72,64 L 88,64' fill='none' stroke='currentColor'></path>
<path d='M 104,64 L 112,64' fill='none' stroke='currentColor'></path>
<path d='M 128,80 L 152,80' fill='none' stroke='currentColor'></path>
<path d='M 152,80 L 200,80' fill='none' stroke='currentColor'></path>
<path d='M 240,80 L 264,80' fill='none' stroke='currentColor'></path>
<path d='M 0,96 L 128,96' fill='none' stroke='currentColor'></path>
<path d='M 0,0 L 0,96' fill='none' stroke='currentColor'></path>
<path d='M 24,32 L 24,64' fill='none' stroke='currentColor'></path>
<path d='M 40,32 L 40,64' fill='none' stroke='currentColor'></path>
<path d='M 56,32 L 56,64' fill='none' stroke='currentColor'></path>
<path d='M 72,32 L 72,64' fill='none' stroke='currentColor'></path>
<path d='M 88,32 L 88,64' fill='none' stroke='currentColor'></path>
<path d='M 104,32 L 104,64' fill='none' stroke='currentColor'></path>
<path d='M 128,0 L 128,16' fill='none' stroke='currentColor'></path>
<path d='M 128,16 L 128,48' fill='none' stroke='currentColor'></path>
<path d='M 128,48 L 128,80' fill='none' stroke='currentColor'></path>
<path d='M 128,80 L 128,96' fill='none' stroke='currentColor'></path>
<polygon points='160.000000,16.000000 148.000000,10.400000 148.000000,21.600000' fill='currentColor' transform='rotate(0.000000, 152.000000, 16.000000)'></polygon>
<polygon points='160.000000,48.000000 148.000000,42.400002 148.000000,53.599998' fill='currentColor' transform='rotate(0.000000, 152.000000, 48.000000)'></polygon>
<polygon points='160.000000,80.000000 148.000000,74.400002 148.000000,85.599998' fill='currentColor' transform='rotate(0.000000, 152.000000, 80.000000)'></polygon>
<polygon points='208.000000,16.000000 196.000000,10.400000 196.000000,21.600000' fill='currentColor' transform='rotate(0.000000, 200.000000, 16.000000)'></polygon>
<polygon points='208.000000,48.000000 196.000000,42.400002 196.000000,53.599998' fill='currentColor' transform='rotate(0.000000, 200.000000, 48.000000)'></polygon>
<polygon points='208.000000,80.000000 196.000000,74.400002 196.000000,85.599998' fill='currentColor' transform='rotate(0.000000, 200.000000, 80.000000)'></polygon>
<polygon points='248.000000,16.000000 236.000000,10.400000 236.000000,21.600000' fill='currentColor' transform='rotate(180.000000, 240.000000, 16.000000)'></polygon>
<polygon points='248.000000,48.000000 236.000000,42.400002 236.000000,53.599998' fill='currentColor' transform='rotate(180.000000, 240.000000, 48.000000)'></polygon>
<polygon points='248.000000,80.000000 236.000000,74.400002 236.000000,85.599998' fill='currentColor' transform='rotate(180.000000, 240.000000, 80.000000)'></polygon>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='32' y='20' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='48' y='20' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='56' y='84' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>r</text>
<text text-anchor='middle' x='64' y='84' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='72' y='84' fill='currentColor' style='font-size:1em'>K</text>
<text text-anchor='middle' x='144' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='144' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='144' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='152' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='152' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='160' y='4' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='160' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='160' y='68' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='184' y='4' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='184' y='36' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='184' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='192' y='4' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='192' y='36' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='192' y='68' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='200' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='200' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='200' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='208' y='4' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='208' y='36' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='208' y='68' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='216' y='20' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='216' y='52' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='216' y='84' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='224' y='20' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='224' y='52' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='224' y='84' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='232' y='4' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='232' y='36' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='232' y='68' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='240' y='4' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='240' y='36' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='240' y='68' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='248' y='36' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='248' y='68' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='256' y='36' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='256' y='68' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='280' y='20' fill='currentColor' style='font-size:1em'>□</text>
<text text-anchor='middle' x='280' y='52' fill='currentColor' style='font-size:1em'>□</text>
<text text-anchor='middle' x='280' y='84' fill='currentColor' style='font-size:1em'>□</text>
<text text-anchor='middle' x='296' y='20' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='296' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='296' y='84' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='304' y='20' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='304' y='52' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='304' y='84' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='312' y='20' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='312' y='52' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='312' y='84' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='320' y='20' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='320' y='52' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='320' y='84' fill='currentColor' style='font-size:1em'>v</text>
<text text-anchor='middle' x='328' y='20' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='328' y='52' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='328' y='84' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='344' y='20' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='344' y='52' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='344' y='84' fill='currentColor' style='font-size:1em'>3</text>
</g>

    </svg>
  
</div>
</li>
</ul>
</li>
<li>
<p>Sending data on sender and receiving data on receiver is synchronized by the clock wire.</p>
<ul>
<li>The sender ensures a bit is <strong>sent at a clock edge</strong>.
Therefore, the receiver just needs to only monitor the edges. <sup><a class="link" href="#Uart-r1" >Uart-Bili 02:40</a></sup></li>
</ul>
<!-- (2024-10-25) -->
<ul>
<li><strong>&ldquo;Synchronized&rdquo;</strong> means the <strong>clocks</strong> of both parties in the communication has the same oscillation <strong>rate</strong> <sup><a class="link" href="#Spi-r3" >r3-Wiki</a></sup>.
So, SPI uses a dedicated clock line as the <strong>mutually agreed-upon</strong> clock.</li>
</ul>
<!-- (2024-10-30) -->
<ul>
<li>&ldquo;Synchronous&rdquo; is <strong>NOT &ldquo;simultaneous&rdquo;</strong>. Synchronous means having the same <strong>step rhythm</strong> (步调一致), same timing.
such that the signal interpretation is matched between the two parties of the communication.</li>
</ul>
<!-- (2025-11-06T08:44) -->
<ul>
<li>
<p>“同步”不是同时，同步意味着：需要等待基准信号的到来。比如 I2C (F23 Hardware Manual P797)</p>
<blockquote>
<p>Data is transmitted or received in synchronization with the serial clock (SCK) output from the master channel.</p></blockquote>
</li>
</ul>
</li>
</ol>
<ul>
<li>
<p>Probing signal at <strong>edges</strong></p>
<ul>
<li>
<p>For example, the chip 93C46 specifies that data must be sampled at the <strong>rising edge</strong> of the SCK.</p>
</li>
<li>
<p>There are 4 types of bus sampling pattern, based on rising and falling edges, as well as dominant and recessive values.</p>
</li>
</ul>
</li>
</ul>
<h4 id="example">Example
</h4><ol start="5">
<li>
<p>Example:</p>
<ul>
<li>
<p>EEPROM chip 93C46: 128 bytes (128 x 8-bit) memory</p>
<p>Memory address is 7 bits: 0x00 - 0x7F</p>
</li>
<li>
<p>Its CS pin requires a high voltage to be selected, according to its datasheet.</p>
</li>
<li>
<p>Frame for writing a byte into it:</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th></th>
          <th>Start</th>
          <th>Operation</th>
          <th>Mem Addr</th>
          <th>Data</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Write</td>
          <td>1</td>
          <td>01</td>
          <td>000,0001</td>
          <td>0000,1111</td>
      </tr>
      <tr>
          <td>Read</td>
          <td>1</td>
          <td>10</td>
          <td>000,0001</td>
          <td></td>
      </tr>
  </tbody>
</table></div>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 520 217"
      >
      <g transform='translate(8,16)'>
<path d='M 72,16 L 480,16' fill='none' stroke='currentColor'></path>
<path d='M 40,48 L 72,48' fill='none' stroke='currentColor'></path>
<path d='M 56,80 L 72,80' fill='none' stroke='currentColor'></path>
<path d='M 88,80 L 104,80' fill='none' stroke='currentColor'></path>
<path d='M 120,80 L 136,80' fill='none' stroke='currentColor'></path>
<path d='M 152,80 L 168,80' fill='none' stroke='currentColor'></path>
<path d='M 184,80 L 200,80' fill='none' stroke='currentColor'></path>
<path d='M 216,80 L 232,80' fill='none' stroke='currentColor'></path>
<path d='M 248,80 L 264,80' fill='none' stroke='currentColor'></path>
<path d='M 280,80 L 296,80' fill='none' stroke='currentColor'></path>
<path d='M 312,80 L 328,80' fill='none' stroke='currentColor'></path>
<path d='M 344,80 L 360,80' fill='none' stroke='currentColor'></path>
<path d='M 376,80 L 392,80' fill='none' stroke='currentColor'></path>
<path d='M 408,80 L 424,80' fill='none' stroke='currentColor'></path>
<path d='M 440,80 L 456,80' fill='none' stroke='currentColor'></path>
<path d='M 40,112 L 56,112' fill='none' stroke='currentColor'></path>
<path d='M 72,112 L 88,112' fill='none' stroke='currentColor'></path>
<path d='M 104,112 L 120,112' fill='none' stroke='currentColor'></path>
<path d='M 136,112 L 152,112' fill='none' stroke='currentColor'></path>
<path d='M 168,112 L 184,112' fill='none' stroke='currentColor'></path>
<path d='M 200,112 L 216,112' fill='none' stroke='currentColor'></path>
<path d='M 232,112 L 248,112' fill='none' stroke='currentColor'></path>
<path d='M 264,112 L 280,112' fill='none' stroke='currentColor'></path>
<path d='M 296,112 L 312,112' fill='none' stroke='currentColor'></path>
<path d='M 328,112 L 344,112' fill='none' stroke='currentColor'></path>
<path d='M 360,112 L 376,112' fill='none' stroke='currentColor'></path>
<path d='M 392,112 L 408,112' fill='none' stroke='currentColor'></path>
<path d='M 424,112 L 440,112' fill='none' stroke='currentColor'></path>
<path d='M 64,144 L 96,144' fill='none' stroke='currentColor'></path>
<path d='M 128,144 L 160,144' fill='none' stroke='currentColor'></path>
<path d='M 368,144 L 400,144' fill='none' stroke='currentColor'></path>
<path d='M 40,176 L 64,176' fill='none' stroke='currentColor'></path>
<path d='M 96,176 L 128,176' fill='none' stroke='currentColor'></path>
<path d='M 160,176 L 368,176' fill='none' stroke='currentColor'></path>
<path d='M 400,176 L 488,176' fill='none' stroke='currentColor'></path>
<path d='M 32,192 L 504,192' fill='none' stroke='currentColor'></path>
<path d='M 32,0 L 32,192' fill='none' stroke='currentColor'></path>
<path d='M 56,80 L 56,112' fill='none' stroke='currentColor'></path>
<path d='M 64,144 L 64,176' fill='none' stroke='currentColor'></path>
<path d='M 72,16 L 72,48' fill='none' stroke='currentColor'></path>
<path d='M 72,80 L 72,112' fill='none' stroke='currentColor'></path>
<path d='M 88,80 L 88,112' fill='none' stroke='currentColor'></path>
<path d='M 96,144 L 96,176' fill='none' stroke='currentColor'></path>
<path d='M 104,80 L 104,112' fill='none' stroke='currentColor'></path>
<path d='M 120,80 L 120,112' fill='none' stroke='currentColor'></path>
<path d='M 128,144 L 128,176' fill='none' stroke='currentColor'></path>
<path d='M 136,80 L 136,112' fill='none' stroke='currentColor'></path>
<path d='M 152,80 L 152,112' fill='none' stroke='currentColor'></path>
<path d='M 160,144 L 160,176' fill='none' stroke='currentColor'></path>
<path d='M 168,80 L 168,112' fill='none' stroke='currentColor'></path>
<path d='M 184,80 L 184,112' fill='none' stroke='currentColor'></path>
<path d='M 200,80 L 200,112' fill='none' stroke='currentColor'></path>
<path d='M 216,80 L 216,112' fill='none' stroke='currentColor'></path>
<path d='M 232,80 L 232,112' fill='none' stroke='currentColor'></path>
<path d='M 248,80 L 248,112' fill='none' stroke='currentColor'></path>
<path d='M 264,80 L 264,112' fill='none' stroke='currentColor'></path>
<path d='M 280,80 L 280,112' fill='none' stroke='currentColor'></path>
<path d='M 296,80 L 296,112' fill='none' stroke='currentColor'></path>
<path d='M 312,80 L 312,112' fill='none' stroke='currentColor'></path>
<path d='M 328,80 L 328,112' fill='none' stroke='currentColor'></path>
<path d='M 344,80 L 344,112' fill='none' stroke='currentColor'></path>
<path d='M 360,80 L 360,112' fill='none' stroke='currentColor'></path>
<path d='M 368,144 L 368,176' fill='none' stroke='currentColor'></path>
<path d='M 376,80 L 376,112' fill='none' stroke='currentColor'></path>
<path d='M 392,80 L 392,112' fill='none' stroke='currentColor'></path>
<path d='M 400,144 L 400,176' fill='none' stroke='currentColor'></path>
<path d='M 408,80 L 408,112' fill='none' stroke='currentColor'></path>
<path d='M 424,80 L 424,112' fill='none' stroke='currentColor'></path>
<path d='M 440,80 L 440,112' fill='none' stroke='currentColor'></path>
<path d='M 456,80 L 456,112' fill='none' stroke='currentColor'></path>
<polygon points='40.000000,0.000000 28.000000,-5.600000 28.000000,5.600000' fill='currentColor' transform='rotate(270.000000, 32.000000, 0.000000)'></polygon>
<polygon points='512.000000,192.000000 500.000000,186.399994 500.000000,197.600006' fill='currentColor' transform='rotate(0.000000, 504.000000, 192.000000)'></polygon>
<text text-anchor='middle' x='0' y='116' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='0' y='180' fill='currentColor' style='font-size:1em'>M</text>
<text text-anchor='middle' x='8' y='52' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='8' y='116' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='8' y='180' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='16' y='52' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='16' y='116' fill='currentColor' style='font-size:1em'>K</text>
<text text-anchor='middle' x='16' y='180' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='24' y='180' fill='currentColor' style='font-size:1em'>I</text>
<text text-anchor='middle' x='88' y='68' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='88' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='120' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='120' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='152' y='68' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='152' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='184' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='184' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='184' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='184' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='216' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='216' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='216' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='216' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='248' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='248' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='248' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='248' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='280' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='280' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='280' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='280' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='312' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='312' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='312' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='312' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='344' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='344' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='344' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='344' y='164' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='376' y='68' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='376' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='408' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='408' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='440' y='68' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='440' y='132' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='440' y='148' fill='currentColor' style='font-size:1em'>:</text>
<text text-anchor='middle' x='440' y='164' fill='currentColor' style='font-size:1em'>:</text>
</g>

    </svg>
  
</div>
<img src="爱上半导体-深入理解SPi通讯协议，5分钟看懂！_00-03-09.png">
</li>
</ul>
</li>
</ol>
<h4 id="modes">Modes
</h4><p>(2024-12-10)</p>
<ol start="6">
<li>
<p>The 4 Modes <sup><a class="link" href="#Spi-r2" >r2-Wikipedia</a></sup>:</p>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 520 201"
      >
      <g transform='translate(8,16)'>
<path d='M 224,16 L 232,16' fill='none' stroke='currentColor'></path>
<path d='M 152,32 L 200,32' fill='none' stroke='currentColor'></path>
<path d='M 272,32 L 280,32' fill='none' stroke='currentColor'></path>
<path d='M 376,32 L 384,32' fill='none' stroke='currentColor'></path>
<path d='M 104,64 L 152,64' fill='none' stroke='currentColor'></path>
<path d='M 224,80 L 232,80' fill='none' stroke='currentColor'></path>
<path d='M 272,80 L 280,80' fill='none' stroke='currentColor'></path>
<path d='M 376,80 L 384,80' fill='none' stroke='currentColor'></path>
<path d='M 224,112 L 232,112' fill='none' stroke='currentColor'></path>
<path d='M 104,128 L 152,128' fill='none' stroke='currentColor'></path>
<path d='M 272,128 L 280,128' fill='none' stroke='currentColor'></path>
<path d='M 376,128 L 384,128' fill='none' stroke='currentColor'></path>
<path d='M 152,160 L 200,160' fill='none' stroke='currentColor'></path>
<path d='M 224,176 L 232,176' fill='none' stroke='currentColor'></path>
<path d='M 272,176 L 280,176' fill='none' stroke='currentColor'></path>
<path d='M 376,176 L 384,176' fill='none' stroke='currentColor'></path>
<path d='M 152,32 L 152,64' fill='none' stroke='currentColor'></path>
<path d='M 152,128 L 152,160' fill='none' stroke='currentColor'></path>
<path d='M 208,48 L 224,16' fill='none' stroke='currentColor'></path>
<path d='M 208,144 L 224,112' fill='none' stroke='currentColor'></path>
<path d='M 208,144 L 224,176' fill='none' stroke='currentColor'></path>
<path d='M 208,48 L 224,80' fill='none' stroke='currentColor'></path>
<polygon points='288.000000,32.000000 276.000000,26.400000 276.000000,37.599998' fill='currentColor' transform='rotate(0.000000, 280.000000, 32.000000)'></polygon>
<polygon points='288.000000,80.000000 276.000000,74.400002 276.000000,85.599998' fill='currentColor' transform='rotate(0.000000, 280.000000, 80.000000)'></polygon>
<polygon points='288.000000,128.000000 276.000000,122.400002 276.000000,133.600006' fill='currentColor' transform='rotate(0.000000, 280.000000, 128.000000)'></polygon>
<polygon points='288.000000,176.000000 276.000000,170.399994 276.000000,181.600006' fill='currentColor' transform='rotate(0.000000, 280.000000, 176.000000)'></polygon>
<polygon points='392.000000,32.000000 380.000000,26.400000 380.000000,37.599998' fill='currentColor' transform='rotate(0.000000, 384.000000, 32.000000)'></polygon>
<polygon points='392.000000,80.000000 380.000000,74.400002 380.000000,85.599998' fill='currentColor' transform='rotate(0.000000, 384.000000, 80.000000)'></polygon>
<polygon points='392.000000,128.000000 380.000000,122.400002 380.000000,133.600006' fill='currentColor' transform='rotate(0.000000, 384.000000, 128.000000)'></polygon>
<polygon points='392.000000,176.000000 380.000000,170.399994 380.000000,181.600006' fill='currentColor' transform='rotate(0.000000, 384.000000, 176.000000)'></polygon>
<text text-anchor='middle' x='0' y='20' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='0' y='36' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='0' y='116' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='0' y='132' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='8' y='20' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='8' y='36' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='8' y='116' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='8' y='132' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='16' y='20' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='16' y='36' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='16' y='116' fill='currentColor' style='font-size:1em'>O</text>
<text text-anchor='middle' x='16' y='132' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='24' y='20' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='24' y='36' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='24' y='116' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='24' y='132' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='40' y='20' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='40' y='36' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='40' y='116' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='40' y='132' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='48' y='36' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='48' y='132' fill='currentColor' style='font-size:1em'>s</text>
<text text-anchor='middle' x='56' y='20' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='56' y='116' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='64' y='20' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='64' y='36' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='64' y='116' fill='currentColor' style='font-size:1em'>,</text>
<text text-anchor='middle' x='64' y='132' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='72' y='36' fill='currentColor' style='font-size:1em'>o</text>
<text text-anchor='middle' x='72' y='132' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='80' y='36' fill='currentColor' style='font-size:1em'>w</text>
<text text-anchor='middle' x='80' y='132' fill='currentColor' style='font-size:1em'>g</text>
<text text-anchor='middle' x='88' y='132' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='248' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='256' y='4' fill='currentColor' style='font-size:1em'>h</text>
<text text-anchor='middle' x='256' y='36' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='256' y='84' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='256' y='132' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='256' y='180' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='264' y='4' fill='currentColor' style='font-size:1em'>i</text>
<text text-anchor='middle' x='272' y='4' fill='currentColor' style='font-size:1em'>f</text>
<text text-anchor='middle' x='280' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='296' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='296' y='36' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='296' y='84' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='296' y='132' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='296' y='180' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='304' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='312' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='320' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='336' y='4' fill='currentColor' style='font-size:1em'>|</text>
<text text-anchor='middle' x='352' y='4' fill='currentColor' style='font-size:1em'>S</text>
<text text-anchor='middle' x='360' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='360' y='36' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='360' y='84' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='360' y='132' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='360' y='180' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='368' y='4' fill='currentColor' style='font-size:1em'>m</text>
<text text-anchor='middle' x='376' y='4' fill='currentColor' style='font-size:1em'>p</text>
<text text-anchor='middle' x='384' y='4' fill='currentColor' style='font-size:1em'>l</text>
<text text-anchor='middle' x='392' y='4' fill='currentColor' style='font-size:1em'>e</text>
<text text-anchor='middle' x='400' y='36' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='400' y='84' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='400' y='132' fill='currentColor' style='font-size:1em'>L</text>
<text text-anchor='middle' x='400' y='180' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='408' y='4' fill='currentColor' style='font-size:1em'>d</text>
<text text-anchor='middle' x='416' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='424' y='4' fill='currentColor' style='font-size:1em'>t</text>
<text text-anchor='middle' x='432' y='4' fill='currentColor' style='font-size:1em'>a</text>
<text text-anchor='middle' x='440' y='36' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='440' y='84' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='440' y='132' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='440' y='180' fill='currentColor' style='font-size:1em'>(</text>
<text text-anchor='middle' x='448' y='36' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='448' y='84' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='448' y='132' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='448' y='180' fill='currentColor' style='font-size:1em'>C</text>
<text text-anchor='middle' x='456' y='36' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='456' y='84' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='456' y='132' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='456' y='180' fill='currentColor' style='font-size:1em'>P</text>
<text text-anchor='middle' x='464' y='36' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='464' y='84' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='464' y='132' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='464' y='180' fill='currentColor' style='font-size:1em'>H</text>
<text text-anchor='middle' x='472' y='36' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='472' y='84' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='472' y='132' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='472' y='180' fill='currentColor' style='font-size:1em'>A</text>
<text text-anchor='middle' x='480' y='36' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='480' y='84' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='480' y='132' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='480' y='180' fill='currentColor' style='font-size:1em'>=</text>
<text text-anchor='middle' x='488' y='36' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='488' y='84' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='488' y='132' fill='currentColor' style='font-size:1em'>0</text>
<text text-anchor='middle' x='488' y='180' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='496' y='36' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='496' y='84' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='496' y='132' fill='currentColor' style='font-size:1em'>)</text>
<text text-anchor='middle' x='496' y='180' fill='currentColor' style='font-size:1em'>)</text>
</g>

    </svg>
  
</div>
<img src="https://upload.wikimedia.org/wikipedia/commons/f/f0/SPI_timing_diagram_CS.svg">
</li>
</ol>
<hr>
<h3 id="spi-on-arduino">SPI on Arduino
</h3><p><strong>References</strong>:</p>
<ol>
<li><a id="Spi-Ardu-r1"></a>
<a class="link" href="https://docs.arduino.cc/learn/communication/spi/"  target="_blank" rel="noopener"
    >Arduino &amp; Serial Peripheral Interface (SPI) - Docs</a>
<small>
<ul>
<li>Searched by <code>spi on arduino</code> in <a class="link" href="https://duckduckgo.com/?q=spi&#43;on&#43;arduino&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-Ardu-r2"></a>
<a class="link" href="https://www.bilibili.com/video/BV18FtUejEbz/"  target="_blank" rel="noopener"
    >Arduino基础课程09——SPI通信 - bilibili - funcodecc</a>
<small>
<ul>
<li>Searched by <code>arduino experiments SPI site:bilibili.com</code> in
<a class="link" href="https://duckduckgo.com/?q=arduino&#43;experiments&#43;SPI&#43;site%3Abilibili.com&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-Ardu-r3"></a>
<a class="link" href="https://docs.arduino.cc/language-reference/en/functions/communication/Serial/println/"  target="_blank" rel="noopener"
    >Serial.println() - Arduino Docs</a>
<small>
<ul>
<li>Searched by <code>arduino serial println</code> in <a class="link" href="https://duckduckgo.com/?q=arduino&#43;serial&#43;println&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-Ardu-r4"></a>
<a class="link" href="https://www.makerguides.com/master-slave-spi-communication-arduino/"  target="_blank" rel="noopener"
    >Master-Slave SPI Communication And Arduino SPI Read Example - Makerguides</a>
<small>
<ul>
<li>Searched by <code>Arduino SPI communication using SPI library</code> in
<a class="link" href="https://duckduckgo.com/?q=Arduino&#43;SPI&#43;communication&#43;using&#43;SPI&#43;library&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id=""></a>
<a class="link" href="" ></a>
<small>
<ul>
<li>Searched by <code> </code> in
<a class="link" href="" >DDG</a>
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<p>(2024-10-25)</p>
<ol>
<li>
<p>Five functions to complete once SPI communication: <sup><a class="link" href="#Spi-Ardu-r1" >r1-Docs</a></sup></p>
<ol>
<li>
<p><code>SPI.begin()</code> initializes the SPI interface on the board.</p>
<ul>
<li>No arguments, No return values.</li>
<li>It is the pinMode of <code>SS</code> pin that determines a device is the master or a slave.
The <code>SS</code> pin of Master is <code>OUTPUT</code>, in contrast, slaves&rsquo; <code>SS</code> is <code>INPUT</code>.</li>
</ul>
</li>
<li>
<p><code>SPI.beginTransaction()</code> locks resources for an SPI session.</p>
<ul>
<li>
<p>Prevent other processes, interruptions interfering the following SPI communication.</p>
</li>
<li>
<p>Three Communication Parameters: <code>SPISettings(clockfreg, bitorder, datamode)</code></p>
<ul>
<li><code>clockfreg</code>,</li>
<li><code>bitorder</code>: <code>MSBFIRST</code> or <code>LSBFIRST</code></li>
<li><code>datamode</code> can be 4 modes: <code>SPI_MODE0</code>, <code>SPI_MODE1</code>, <code>SPI_MODE2</code>, <code>SPI_MODE3</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>byte receivedByte = SPI.transfer(sentByte)</code> sends a byte to and read one byte from the bus.</p>
<p>(2024-11-01)</p>
<ul>
<li>
<p><code>SPI.transfer()</code> performs 2 operations: read one byte and send one byte.
It&rsquo;s like the master and the slave are <strong>swaping</strong> data.
As it&rsquo;s been said in <a class="link" href="#Spi-r5" >r5-CSDN</a>, there is a <strong>loop</strong> in their buffer.</p>
<p>So, in the <code>loop()</code>, both the master and the slave are just <strong>send their data</strong>.
And we don&rsquo;t need to care their hierarchies within the <code>loop()</code> function:
Just call <code>transfer()</code> function as many times as they want.</p>
</li>
</ul>
</li>
<li>
<p><code>SPI.endTransaction()</code> unlocks resources for this conversation.</p>
</li>
<li>
<p><code>SPI.end()</code> concludes SPI function on this board.</p>
</li>
</ol>
</li>
</ol>
<p>(2024-10-28)</p>
<ol start="2">
<li>
<p>Pins Connection: <sup>(<a class="link" href="#Spi-Ardu-r2" >r2-Bili</a>)</sup></p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Signal</th>
          <th>Master: UNO pin</th>
          <th>pinMode</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>SS</td>
          <td>A10</td>
          <td><code>Output</code> for providing a HIGH or LOW voltage to select a slave</td>
      </tr>
      <tr>
          <td>SCK</td>
          <td>A13</td>
          <td></td>
      </tr>
      <tr>
          <td>MOSI</td>
          <td>A11</td>
          <td></td>
      </tr>
      <tr>
          <td>MISO</td>
          <td>A12</td>
          <td></td>
      </tr>
  </tbody>
</table></div>
</li>
<li>
<p>Code running on the Master device</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;SPI.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;Serial.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">beginTransaction</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">sentByte</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">receivedByte</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">sentByte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">Serial</span><span class="p">.</span><span class="n">printIn</span><span class="p">(</span><span class="n">receivedByte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">endTransaction</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>
<p>My mistakes:</p>
<ol>
<li>
<p>Use a variable to refer the pin number: <code>const int ssPin = 10;</code></p>
<ul>
<li>ssPIN is defined outside <code>setup()</code> and set as a <code>const</code> variable.</li>
</ul>
</li>
<li>
<p><code>SPISettings()</code> is <strong>nested</strong> in the transaction starts <code>SPI.beginTransaction()</code>.</p>
</li>
<li>
<p>The <code>ssPin</code> needs to be set as <code>LOW</code> and <code>HIGH</code> <strong>manually</strong> before as well as after <code>SPI.transfer()</code>.</p>
<ul>
<li>Use <code>digitalWrite()</code> to set the <code>ssPin</code> to <code>LOW</code> and HIGH`</li>
</ul>
</li>
<li>
<p>Print human-reable character with Serial: <code>Serial.println(aVarialbe, format)</code>,</p>
<ul>
<li>
<p>The <code>format</code> is the &ldquo;number base&rdquo; for integer value, or the &ldquo;number of decimal place&rdquo; for floating point values,
such as <code>DEC</code>, <code>HEX</code>, <code>OCT</code>, <code>BIN</code>, etc.</p>
</li>
<li>
<p>No need to include Serial library</p>
</li>
</ul>
</li>
<li>
<p><code>beginTransaction()</code> resides in the <code>setup()</code>. Why does it only run once?</p>
</li>
<li>
<p>Variable name for the data received from and data sent to the bus can be set as <code>dataReceived</code> and <code>dataToSend</code>.</p>
</li>
</ol>
</li>
</ul>
</li>
</ol>
<ul>
<li>
<p>Rectified code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;SPI.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="kt">int</span> <span class="n">ssPin</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">beginTransaction</span><span class="p">(</span><span class="n">SPISettings</span><span class="p">(</span><span class="mi">250000</span><span class="p">,</span> <span class="n">MSBFIRST</span><span class="p">,</span> <span class="n">SPI_MODE1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">sentByte</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">LOW</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">receivedByte</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">sentByte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">receivedByte</span><span class="p">,</span> <span class="n">HEX</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">endTransaction</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">end</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<p><strong>Practice</strong>:</p>
<ul>
<li>
<p>Task: Implement SPI communication between two Arduino boards.</p>
</li>
<li>
<p>Pins connection</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Wires</th>
          <th>Master</th>
          <th>Slave</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>SS</td>
          <td>10 OUTPUT</td>
          <td>10 INPUT</td>
      </tr>
      <tr>
          <td>SCK</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>MOSI</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>MISO</td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table></div>
</li>
<li>
<p>Code for Master UNO:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;SPI.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="k">const</span> <span class="kt">int</span> <span class="n">ssPin</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">OUTPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">beginTransaction</span><span class="p">(</span><span class="n">SPISettings</span><span class="p">(</span><span class="mi">250000</span><span class="p">,</span> <span class="n">MSBFIRST</span><span class="p">,</span> <span class="n">SPI_MODE1</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">  <span class="n">digitalWrite</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">HIGH</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">dataToSend</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="n">byte</span> <span class="n">dataReceived</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="n">dataToSend</span><span class="p">)</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">Serical</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">dataReceived</span><span class="p">,</span> <span class="n">HeX</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">endTransaction</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">ends</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Slave code  <sup>(<a class="link" href="#Spi-Ardu-r2" >r2-Bili</a>, <a class="link" href="#Spi-Ardu-r4" >r4-Maker</a>)</sup></p>
<ol>
<li>
<p>The pinMode of <code>SS</code> is set to <code>INPUT</code>, instead of <code>OUTPUT</code> in the Master device.</p>
<ul>
<li><code>#define ssPin 11</code> Not followed by <code>;</code> !</li>
</ul>
</li>
<li>
<p>The pin for <code>SS</code> requires check repeatedly if has changed to <code>LOW</code>,
which indicates the slave is selected.</p>
<p>And then the slave can send many data to the master, by calling <code>SPI.transfer()</code> multiple times.</p>
</li>
<li>
<p>If <strong>only receive</strong> a byte without sending data, the <code>dataToSend</code> can be <code>0</code>:
<code>byte dataReceived = SPI.transfer(0);</code></p>
<p>Also if <strong>only sending</strong> a byte of data without receiving data, the returned value can be omitted:
<code>SPI.transfer(dataToSend);</code></p>
</li>
<li>
<p>Why are there not any transactions began or ended?</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="cp">#include</span> <span class="cpf">&lt;SPI.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="cp">#define ssPin 11
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&#34;I&#39;m a slave&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">pinMode</span><span class="p">(</span><span class="n">ssPin</span><span class="p">,</span> <span class="n">INPUT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="n">SPI</span><span class="p">.</span><span class="n">begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">ssPin</span><span class="p">)</span> <span class="o">==</span> <span class="n">LOW</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="n">byte</span> <span class="n">dataReceived</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">.</span><span class="n">transfer</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&#34;Received data:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">dataReceived</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">ssPin</span><span class="p">)</span> <span class="o">==</span> <span class="n">HIGH</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&#34;11 is High&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<hr>
<h3 id="spi-on-raspi3b">SPI on Raspi3B
</h3><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Interface</th>
          <th>MCU: BCM2837</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><figure><img src="https://assets.raspberrypi.com/static/532b4c25752c4235d76cc41051baf9ab/f2559/877fb653-7b43-4931-9cee-977a22571f65_3b%2BAngle%2B2%2Brefresh.webp" width="80%">
</figure>
</td>
          <td><figure><img src="https://assets.raspberrypi.com/static/24e6358d642624d4552b54f675a408ce/f2559/59888f36-1550-4dac-8b42-82332bd494a4_3B%2BDEATILS%2B2%2BREFRESH.webp" width="80%">
</figure>
</td>
      </tr>
  </tbody>
</table></div>
<p><strong>References</strong>:</p>
<ol>
<li><a class="link" href="https://www.raspberrypi.com/products/raspberry-pi-3-model-b/"  target="_blank" rel="noopener"
    >Raspberry Pi 3 Model B</a>
<small>
<ul>
<li>Searched by <code>Raspberry pi 3B</code> in
<a class="link" href="https://duckduckgo.com/?q=Raspberry&#43;pi&#43;3B&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
<li><a id="Spi-Raspi-r2"></a>
<a class="link" href="https://www.jianshu.com/p/f4ad9f5e2e84"  target="_blank" rel="noopener"
    >Python驱动树莓派SPI接口 - 简书 - 月见樽</a>
<small>
<ul>
<li>Searched by <code>树莓派 SPI 实验</code> in
<a class="link" href="https://duckduckgo.com/?q=%E6%A0%91%E8%8E%93%E6%B4%BE&#43;SPI&#43;%E5%AE%9E%E9%AA%8C&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<ol>
<li>Use the python library <code>spidev</code> to drive the SPI interface. (<a class="link" href="#Spi-Raspi-r2" >r2-简书</a>)</li>
</ol>
<hr>
<h2 id="uart">UART
</h2><p><strong>References</strong>:</p>
<p>(2024-10-13)</p>
<ol>
<li><a id="Uart-r1"></a>
<a class="link" href="https://www.bilibili.com/video/BV1im411Q73m/"  target="_blank" rel="noopener"
    >UART那么好用，为什么单片机还需要I2C和SPI？ - bilibili - 工科男孙老师</a>
<small>
<ul>
<li>Searched by <code>I2c</code> in
<a class="link" href="https://search.bilibili.com/all?vt=31686723&amp;keyword=I2c&amp;from_source=webtop_search&amp;spm_id_from=333.1228&amp;search_source=5"  target="_blank" rel="noopener"
    >Bilibili</a>
</small></li>
</ul>
</li>
<li><a id="Uart-r2"></a>
<a class="link" href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter"  target="_blank" rel="noopener"
    >Universal asynchronous receiver-transmitter - Wikipedia</a></li>
<li><a id="Uart-r3"></a>
<a class="link" href="https://www.bilibili.com/video/BV164411q7Ea/"  target="_blank" rel="noopener"
    >Windows下通过串口连接树莓派 Raspberry Pi (USB to TTL, PuTTY) - bilibili - 老刘玩机</a>
<small>
<ul>
<li>Searched by <code>树莓派3D 串口 实验</code> in
<a class="link" href="https://search.bilibili.com/all?keyword=%E6%A0%91%E8%8E%93%E6%B4%BE3D%20%E4%B8%B2%E5%8F%A3%20%E5%AE%9E%E9%AA%8C&amp;from_source=webtop_search&amp;spm_id_from=333.880&amp;search_source=5"  target="_blank" rel="noopener"
    >bilibili</a>
</small></li>
</ul>
</li>
<li><a id="Uart-r4"></a>
<a class="link" href="https://www.cnblogs.com/hsbook/p/16857677.html"  target="_blank" rel="noopener"
    >KingstVIS 逻辑分析仪使用介绍 - 伊红美兰 - 博客园</a>
<small>
<ul>
<li>Searched by <code>逻辑分析仪 用法</code> in
<a class="link" href="https://duckduckgo.com/?q=%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA&#43;%E7%94%A8%E6%B3%95&amp;ia=web"  target="_blank" rel="noopener"
    >DDG</a>
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<p>(2024-10-23)</p>
<ol>
<li>
<p>UART: Univeral Asynchronous Receiver - Transmitter</p>
<ol>
<li>
<p>Univeral:</p>
</li>
<li>
<p>Asynchronous:</p>
<ul>
<li>
<p>SPI is Synchronous, and it needs an <strong>independent clock</strong> wire (SCK) to synchronize the bits transmission and receiving
<sup>(<a class="link" href="#Spi-r1" >Spi-Bili 03:13</a>, <a class="link" href="#I2C-Ardu-r1" >Ardu-Ytb 01:16</a>, <a class="link" href="#I2C-Ardu-r2" >Ardu-Doc</a>)</sup>.
Whereas, the UART is Asynchronous, and there is no a clock wire.</p>
</li>
<li>
<p>For I2C bus, it is the SCL wire that <strong>synchronizes</strong> the clocks of the two participants to interpret (encode/decode) the signal (instruction/data) with correct <strong>timing</strong>.
<a class="link" href="https://docs.arduino.cc/learn/communication/wire/#:~:text=That%27s%20what%20the%20SCL%20wire%20is%20for.%20It%20synchronises%20the%20clock"  target="_blank" rel="noopener"
    >Arduino Docs</a></p>
</li>
</ul>
</li>
<li>
<p>Baud rate:</p>
</li>
</ol>
<p>::: aside</p>
<ul>
<li>References: {{{
<ol>
<li><a id="I2C-Ardu-r1"></a>
A demo of the I2C communication between Arduino and MPU6050. <br>
<a class="link" href="https://youtu.be/6IAkYpmA1DQ?si=unoRkB6p3LyPZrLD"  target="_blank" rel="noopener"
    >How I2C Communication Works and How To Use It with Arduino - YouTube - How To Mechatronics</a>
<small>
<ul>
<li>Directed by <a class="link" href="https://zhuanlan.zhihu.com/p/678229227"  target="_blank" rel="noopener"
    >I2C总线和通信协议详解 (超详细配42张高清图+万字长文) - 知乎</a>(2024-10-13)</li>
<li>Searched by <code>I2C 可以与哪些设备通信</code> in <a class="link" href="https://duckduckgo.com/?q=I2C&#43;%E5%8F%AF%E4%BB%A5%E4%B8%8E%E5%93%AA%E4%BA%9B%E8%AE%BE%E5%A4%87%E9%80%9A%E4%BF%A1"  target="_blank" rel="noopener"
    >DDG</a></li>
<li>Blog and code: <a class="link" href="https://howtomechatronics.com/tutorials/arduino/how-i2c-communication-works-and-how-to-use-it-with-arduino/"  target="_blank" rel="noopener"
    >How I2C Communication Works? Arduino and I2C Tutorial by Dejan</a>
</small>
}}}
:::</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>Three <strong>Drawbacks</strong> and Enhancements (<a class="link" href="#Uart-r1" >r1-Bili</a>)</p>
<ol>
<li>
<p>UART cannot transmit data via a <strong>long distance</strong> due to the TTL voltage,
which is easily interfered.</p>
<p>Variant:</p>
<ul>
<li>
<p>RS-232</p>
<p>(2024-11-29)</p>
<ul>
<li>Uses 4 wires: TX, RX, GND, VCC <sup><a class="link" href="#Uart-r3" >r3-bilibili</a></sup></li>
</ul>
</li>
<li>
<p>RS-485 supports 1 km transmission.</p>
</li>
</ul>
</li>
<li>
<p><strong>Speed</strong> is limited by the baud rate, which depends on the conformity of their <strong>own</strong> clocks.
However, the clock is not precise enough to guanrantee the agreed buad rate.</p>
<p>Variant:</p>
<ul>
<li>SPI uses a <strong>shared</strong> clock wire to determine when to fetch a bit from the SDA line.</li>
</ul>
</li>
<li>
<p>UART communication is confined to <strong>only two</strong> devices.</p>
<p>Variant:</p>
<ul>
<li>I2C applies a <strong>bus</strong> to allow communication between any two devices mounted on the bus.</li>
</ul>
</li>
</ol>
</li>
<li>
<p>Sending data byte-by-byte:</p>
<ol>
<li>Start bit <sup><a class="link" href="#Uart-r2" >r2-Wiki</a></sup></li>
</ol>
<img src="https://upload.wikimedia.org/wikipedia/commons/5/53/UART-signal.png" width="100%">
<p>(2024-12-13)</p>
<ol start="2">
<li>Waveform on logic analyzer <sup><a class="link" href="#Uart-r4" >r4-博客园</a></sup></li>
</ol>
</li>
</ol>
<hr>
<h2 id="serial">Serial
</h2><p><strong>References</strong>:</p>
<ol>
<li><a id="Serial-r1"></a>
<a class="link" href="https://en.wikipedia.org/wiki/Serial_communication"  target="_blank" rel="noopener"
    >Serial communication - Wikipedia</a>
<small>
<ul>
<li>Searched by <code>Serial communication protocol</code> in
[DDG](Serial communication protocol)
</small></li>
</ul>
</li>
</ol>
<hr>
<p><strong>Notes</strong>:</p>
<ol>
<li>
<p>Serial: One bit per step <sup>(<a class="link" href="#Serial-r1" >r1-wiki</a>, <a class="link" href="#Serial-r0" >r0-gh</a>)</sup></p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/9/9d/Serial_and_Parallel_Data_Transmission.svg"
	
	
	
	loading="lazy"
	
		alt="wikipedia"
	
	
></p>
</li>
</ol>
<script>
    pseudocode.renderClass("pseudocode");
</script>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/ee/">EE</a>
        
    </section>


    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
	const mainArticleElement = document.querySelector(".main-article");
        renderMathInElement(mainArticleElement, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>

    

    

    


    

    
      
      <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"
              integrity="sha512-EKW5YvKU3hpyyOcN6jQnAxO/L8gts+YdYV6Yymtl8pk9YlYFtqJgihORuRoBXK8/cOIlappdU6Ms8KdK6yBCgA=="
              crossorigin="anonymous" referrerpolicy="no-referrer">
      </script>
    
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@2.4.1/build/pseudocode.min.css">
      <script src="https://cdn.jsdelivr.net/npm/pseudocode@2.4.1/build/pseudocode.min.js">
      </script>
    
      
      <script>
        pseudocode.renderClass("pseudocode");
      </script>
    


    
    


    
    


    
    

    

    


</article>



    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/post/writenotes/embed/b-comm-lin/">
        
        
            <div class="article-image">
                
                    <img src="https://github.com/iDoka/awesome-linbus/raw/main/lin_logo.png" loading="lazy" data-key="" data-hash="https://github.com/iDoka/awesome-linbus/raw/main/lin_logo.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Memo: EE - Comm | LIN Bus Protocol</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/post/writenotes/embed/b-cad-kicad_usages/">
        
        

        <div class="article-details">
            <h2 class="article-title">Memo: EE - ECAD | KiCAD Usages</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2025 Zichen Wang
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
